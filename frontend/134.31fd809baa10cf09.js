"use strict";(self.webpackChunksuluhi_admin_frontend=self.webpackChunksuluhi_admin_frontend||[]).push([[134],{4134:(J,p,a)=>{a.r(p),a.d(p,{TasksModule:()=>N});var c=a(6895),d=a(8869),t=a(4650),g=a(2340),f=a(529);let m=(()=>{class s{constructor(e){this.http=e,this.taskurl=`${g.N.apiUrl}tasks`}createTask(e){return this.http.post(this.taskurl,e)}getTask(e){return this.http.get(`${this.taskurl}/${e}`)}updateTask(e,o){return this.http.put(`${this.taskurl}/${e}`,o)}deleteTask(e){return this.http.delete(`${this.taskurl}/${e}`)}getAllTasks(){return this.http.get(this.taskurl)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(f.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var T=a(2033),_=a(7350);function h(s,n){1&s&&(t.ynx(0),t.TgZ(1,"div",6),t._UZ(2,"app-sul-loader"),t.qZA(),t.BQk())}function Z(s,n){if(1&s&&(t.ynx(0),t.TgZ(1,"div",6),t._UZ(2,"app-error-occured",8),t.qZA(),t.BQk()),2&s){const e=t.oxw(2);t.xp6(2),t.Q6J("errorMessage",e.errorMessage)}}const v=function(s){return["edit",s]};function b(s,n){if(1&s&&(t.ynx(0),t.TgZ(1,"tr",11)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA()(),t.BQk()),2&s){const e=n.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(4,v,e._id)),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.completed?"Yes":"No")}}function A(s,n){if(1&s&&(t.TgZ(0,"table",9)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Title"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Description"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Completed"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,b,8,6,"ng-container",10),t.qZA()()),2&s){const e=t.oxw(2);t.xp6(10),t.Q6J("ngForOf",e.tasks)}}function x(s,n){if(1&s&&(t.YNc(0,Z,3,1,"ng-container",4),t.YNc(1,A,11,1,"ng-template",null,7,t.W1O)),2&s){const e=t.MAs(2),o=t.oxw();t.Q6J("ngIf",o.errorMessage)("ngIfElse",e)}}let C=(()=>{class s{constructor(e){this.taskService=e,this.loading=!0}ngOnInit(){this.loadTasks()}loadTasks(){this.taskService.getAllTasks().subscribe({next:e=>{console.log(e),this.tasks=e},error:e=>{console.error("Failed to Add task",e),this.errorMessage=e,this.loading=!1},complete:()=>{this.loading=!1}})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(m))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-list-tasks"]],decls:11,vars:2,consts:[[1,"py-4"],[1,"d-flex"],[1,"flex-grow-1"],["routerLink","/tasks/add",1,"btn","btn-secondary","btn-sm"],[4,"ngIf","ngIfElse"],["loadedContent",""],[1,"py-3"],["noError",""],[3,"errorMessage"],[1,"table","table-bordered","table-striped"],[4,"ngFor","ngForOf"],[1,"cursor-pointer",3,"routerLink"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"Tasks"),t.qZA()(),t.TgZ(5,"div")(6,"button",3),t._uU(7," Add Task"),t.qZA()()(),t.YNc(8,h,3,0,"ng-container",4),t.YNc(9,x,3,2,"ng-template",null,5,t.W1O),t.qZA()),2&e){const i=t.MAs(10);t.xp6(8),t.Q6J("ngIf",o.loading)("ngIfElse",i)}},dependencies:[c.sg,c.O5,T.S,_.A,d.rH]}),s})();var r=a(4006);function F(s,n){1&s&&(t.TgZ(0,"div",19),t._uU(1," Title is required. "),t.qZA())}function q(s,n){1&s&&(t.TgZ(0,"div",19),t._uU(1," Description is required. "),t.qZA())}function U(s,n){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",20),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.deleteTask())}),t._uU(2,"Delete Task"),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updateTask())}),t._uU(4,"Edit Task"),t.qZA(),t.BQk()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.taskForm.invalid),t.xp6(2),t.Q6J("disabled",e.taskForm.invalid)}}function y(s,n){if(1&s){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addTask())}),t._uU(1,"Add Task"),t.qZA()}if(2&s){const e=t.oxw();t.Q6J("disabled",e.taskForm.invalid)}}let k=(()=>{class s{constructor(e,o,i,l){this.formBuilder=e,this.router=o,this.taskService=i,this.route=l,this.title="Add Task"}ngOnInit(){this.taskForm=this.formBuilder.group({title:["",r.kI.required],description:["",r.kI.required],goal:[""],project:[""],completed:[!1]}),this.taskId=this.route.snapshot.paramMap.get("id"),this.taskId&&(this.title="Edit Task",this.getTask(this.taskId))}addTask(){this.taskForm.valid&&this.taskService.createTask(this.taskForm.value).subscribe({next:o=>{console.log(o),this.taskForm.reset(),this.router.navigate(["/tasks"])},error:o=>{console.error("Failed to Add task",o)}})}getTask(e){this.taskService.getTask(e).subscribe({next:o=>{this.taskForm.patchValue(o)},error:o=>{console.error("Failed to Add task",o)}})}updateTask(){this.taskService.updateTask(this.taskId,this.taskForm.value).subscribe({next:o=>{console.log(o),this.router.navigate(["/tasks"])},error:o=>{console.error("Failed to Edit task",o)}})}deleteTask(){this.taskService.deleteTask(this.taskId).subscribe({next:e=>{console.log(e),this.router.navigate(["/tasks"])},error:e=>{console.error("Failed to Delete task",e)}})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(r.qu),t.Y36(d.F0),t.Y36(m),t.Y36(d.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-add-edit-tasks"]],decls:34,vars:6,consts:[[1,"my-4",3,"formGroup"],[1,"d-flex"],[1,"flex-grow-1"],["routerLink","/tasks",1,"btn","btn-secondary","btn-sm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","formControlName","title",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","description",1,"form-label"],["id","description","formControlName","description",1,"form-control"],["for","goal",1,"form-label"],["type","text","id","goal","formControlName","goal",1,"form-control"],["for","project",1,"form-label"],["type","text","id","project","formControlName","project",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","completed","formControlName","completed",1,"form-check-input"],["for","completed",1,"form-check-label"],[4,"ngIf","ngIfElse"],["addTasking",""],[1,"invalid-feedback"],["type","submit",1,"btn","btn-danger","btn-sm","me-2",3,"disabled","click"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["type","submit",1,"btn","btn-success","btn-sm",3,"disabled","click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div")(1,"form",0)(2,"div",1)(3,"div",2)(4,"h2"),t._uU(5),t.qZA()(),t.TgZ(6,"div")(7,"button",3),t._uU(8," List Tasks"),t.qZA()()(),t.TgZ(9,"div",4)(10,"label",5),t._uU(11,"Title"),t.qZA(),t._UZ(12,"input",6),t.YNc(13,F,2,0,"div",7),t.qZA(),t.TgZ(14,"div",4)(15,"label",8),t._uU(16,"Description"),t.qZA(),t._UZ(17,"textarea",9),t.YNc(18,q,2,0,"div",7),t.qZA(),t.TgZ(19,"div",4)(20,"label",10),t._uU(21,"Goal"),t.qZA(),t._UZ(22,"input",11),t.qZA(),t.TgZ(23,"div",4)(24,"label",12),t._uU(25,"Project"),t.qZA(),t._UZ(26,"input",13),t.qZA(),t.TgZ(27,"div",14),t._UZ(28,"input",15),t.TgZ(29,"label",16),t._uU(30,"Completed"),t.qZA()(),t.YNc(31,U,5,2,"ng-container",17),t.YNc(32,y,2,1,"ng-template",null,18,t.W1O),t.qZA()()),2&e){const i=t.MAs(33);let l,u;t.xp6(1),t.Q6J("formGroup",o.taskForm),t.xp6(4),t.Oqu(o.title),t.xp6(8),t.Q6J("ngIf",(null==(l=o.taskForm.get("title"))?null:l.invalid)&&(null==(l=o.taskForm.get("title"))?null:l.touched)),t.xp6(5),t.Q6J("ngIf",(null==(u=o.taskForm.get("description"))?null:u.invalid)&&(null==(u=o.taskForm.get("description"))?null:u.touched)),t.xp6(13),t.Q6J("ngIf",o.taskId)("ngIfElse",i)}},dependencies:[c.O5,r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.sg,r.u,d.rH]}),s})();var I=a(3582);const E=[{path:"",component:C},{path:"add",component:k},{path:"edit/:id",component:k},{path:"**",redirectTo:"",pathMatch:"full"}];let N=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[c.ez,r.u5,r.UX,I.C,d.Bz.forChild(E)]}),s})()}}]);