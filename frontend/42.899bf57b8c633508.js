"use strict";(self.webpackChunkbiz_ke_frontend=self.webpackChunkbiz_ke_frontend||[]).push([[42],{1042:(j,p,t)=>{t.r(p),t.d(p,{ChangePasswordModule:()=>Q});var f=t(9808),m=t(1083),e=t(3075),C=t(4905),w=t(5906),h=t(6683),r=t(5e3),g=t(7261),Z=t(4969),l=t(7322),u=t(7531),c=t(7423);function P(o,n){if(1&o&&(r.TgZ(0,"div",17),r._uU(1),r.qZA()),2&o){const a=r.oxw();r.xp6(1),r.hij(" ",a.errorMessage," ")}}function x(o,n){if(1&o&&(r.TgZ(0,"div",17),r._uU(1),r.qZA()),2&o){const a=r.oxw();r.xp6(1),r.hij(" ",a.changepass.notifmmy," ")}}function T(o,n){if(1&o&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&o){const a=r.oxw();r.xp6(1),r.hij(" ",a.errorPasswordControl()," ")}}function F(o,n){if(1&o&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&o){const a=r.oxw();r.xp6(1),r.hij(" ",a.errorConfirmControl()," ")}}function I(o,n){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," Passwords do not match "),r.qZA())}function y(o,n){1&o&&(r.ynx(0),r._UZ(1,"i",18),r.TgZ(2,"span",19),r._uU(3,"Loading..."),r.qZA(),r.BQk())}function A(o,n){1&o&&r._uU(0," Change Password ")}let J=(()=>{class o{constructor(a,s,i,d){this.passFb=a,this.router=s,this.snakBar=i,this.payServ=d,this.matcher=new w.n,this.loading=!1,this.passForm=this.passFb.group({oldpassword:["",[e.kI.required,e.kI.minLength(8),(0,h.j)()]],password:["",[e.kI.required,e.kI.minLength(8),(0,h.j)()]],confirmpass:["",[e.kI.required,(0,C.G)()]]})}ngOnInit(){var a;this.changepass=JSON.parse(localStorage.getItem("chnagepass")),this.passForm.valueChanges.subscribe(()=>{this.errorMessage=!1}),null===(a=this.passForm.get("password"))||void 0===a||a.valueChanges.subscribe(()=>{var s;null===(s=this.passForm.get("confirmpassword"))||void 0===s||s.updateValueAndValidity()})}changePassword(){this.loading=!0,this.payServ.changePassword(this.passForm.value).subscribe({next:a=>this.handleResp(a),error:a=>this.errorHandle(a)})}openSnakBar(a,s){this.snakBar.open(a,s,{duration:2500})}handleResp(a){this.router.navigate(["./login"]).then(()=>{localStorage.clear()})}errorHandle(a){this.loading=!1,this.errorMessage=a}errorPasswordControl(){var a,s,i;return(null===(a=this.passForm.get("password"))||void 0===a?void 0:a.hasError("required"))?"You must provide a value":(null===(s=this.passForm.get("password"))||void 0===s?void 0:s.hasError("minlength"))?"You must enter atleast 8 characters":(null===(i=this.passForm.get("password"))||void 0===i?void 0:i.hasError("passwordStrengthfor"))?"The password is not strong":""}errorConfirmControl(){var a,s;return(null===(a=this.passForm.get("confirmpass"))||void 0===a?void 0:a.hasError("required"))?"You must provide a value":(null===(s=this.passForm.get("confirmpass"))||void 0===s?void 0:s.hasError("notSame"))?"The password do not match":""}}return o.\u0275fac=function(a){return new(a||o)(r.Y36(e.qu),r.Y36(m.F0),r.Y36(g.ux),r.Y36(Z.g))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-change-password"]],decls:31,vars:12,consts:[[1,"d-lg-flex","text-secondary","py-2"],[1,"flex-grow-1"],["type","button","routerLink","/dashboard",1,"btn","btn-outline-success","btn-sm"],["aria-hidden","true",1,"fa","fa-chevron-left"],[3,"formGroup"],["class","alert alert-danger my-3",4,"ngIf"],[1,"row"],[1,"col-lg-12","pt-3"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Enter Old Password","type","password","formControlName","oldpassword",3,"errorStateMatcher"],[1,"col-lg-6"],["matInput","","placeholder","Enter Password","type","password","formControlName","password",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","placeholder","Confirm Password","type","password","formControlName","confirmpass",3,"errorStateMatcher"],["mat-flat-button","","color","primary","type","button",1,"me-3",3,"disabled","click"],[4,"ngIf","ngIfElse"],["notload",""],[1,"alert","alert-danger","my-3"],[1,"fa","fa-spinner","fa-spin","fa-1x","me-2"],[1,""]],template:function(a,s){if(1&a&&(r.TgZ(0,"div",0)(1,"div",1)(2,"button",2),r._UZ(3,"i",3),r._uU(4," Back "),r.qZA()()(),r.TgZ(5,"form",4),r.YNc(6,P,2,1,"div",5),r.YNc(7,x,2,1,"div",5),r.TgZ(8,"div",6)(9,"div",7)(10,"mat-form-field",8)(11,"mat-label"),r._uU(12,"Old Password "),r.qZA(),r._UZ(13,"input",9),r.qZA()(),r.TgZ(14,"div",10)(15,"mat-form-field",8)(16,"mat-label"),r._uU(17,"Password "),r.qZA(),r._UZ(18,"input",11),r.YNc(19,T,2,1,"mat-error",12),r.qZA()(),r.TgZ(20,"div",10)(21,"mat-form-field",8)(22,"mat-label"),r._uU(23,"Confirm Password"),r.qZA(),r._UZ(24,"input",13),r.YNc(25,F,2,1,"mat-error",12),r.YNc(26,I,2,0,"mat-error",12),r.qZA()()(),r.TgZ(27,"button",14),r.NdJ("click",function(){return s.changePassword()}),r.YNc(28,y,4,0,"ng-container",15),r.YNc(29,A,1,0,"ng-template",null,16,r.W1O),r.qZA()()),2&a){const i=r.MAs(30);let d,v;r.xp6(5),r.Q6J("formGroup",s.passForm),r.xp6(1),r.Q6J("ngIf",s.errorMessage),r.xp6(1),r.Q6J("ngIf",s.changepass),r.xp6(6),r.Q6J("errorStateMatcher",s.matcher),r.xp6(5),r.Q6J("errorStateMatcher",s.matcher),r.xp6(1),r.Q6J("ngIf",null==(d=s.passForm.get("password"))?null:d.invalid),r.xp6(5),r.Q6J("errorStateMatcher",s.matcher),r.xp6(1),r.Q6J("ngIf",null==(v=s.passForm.get("confirmpass"))?null:v.invalid),r.xp6(1),r.Q6J("ngIf",s.passForm.hasError("notSame")),r.xp6(1),r.Q6J("disabled",s.passForm.invalid||s.errorMessage||s.loading),r.xp6(1),r.Q6J("ngIf",s.loading)("ngIfElse",i)}},directives:[m.rH,e._Y,e.JL,e.sg,f.O5,l.KE,l.hX,u.Nt,e.Fj,e.JJ,e.u,l.TO,c.lW],styles:[".mat-form-field-flex>.mat-form-field-infix{padding:.5em 0!important}  .mat-form-field-label-wrapper{top:-1.4em}  .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{transform:translateY(-1.1em) scale(.75);width:133.33333%}"]}),o})();var U=t(508),M=t(6856),S=t(5245),Y=t(4107),b=t(4376),N=t(6186);const E=[{path:"",component:J}];let Q=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[f.ez,N.K,e.UX,b.A0,e.u5,g.ZX,l.lN,Y.LD,u.c,S.Ps,c.ot,U.XK,M.FA,m.Bz.forChild(E)]]}),o})()}}]);