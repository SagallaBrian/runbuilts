"use strict";(self.webpackChunksuluhi_admin_frontend=self.webpackChunksuluhi_admin_frontend||[]).push([[53],{2053:(tt,v,l)=>{l.r(v),l.d(v,{ClientsModule:()=>R});var d=l(6895),c=l(8869),a=l(4006),h=l(4333),T=l(1213),Z=l(8796),t=l(4650),A=l(583),y=l(7997),N=l(5511),b=l(8057),q=l(295);function U(e,o){1&e&&(t.ynx(0),t.TgZ(1,"div",8),t._UZ(2,"app-sul-loader"),t.qZA(),t.BQk())}function E(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",8),t._UZ(2,"app-error-occured",10),t.qZA(),t.BQk()),2&e){const n=t.oxw(2);t.xp6(2),t.Q6J("errorMessage",n.errorMessage)}}const F=function(e){return["edit",e]};function I(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"tr",19)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",20),t._uU(7),t.qZA(),t.TgZ(8,"td",20),t._uU(9),t.qZA(),t.TgZ(10,"td",21),t._uU(11),t.qZA(),t.TgZ(12,"td",21),t._uU(13),t.qZA(),t.TgZ(14,"td",21),t._uU(15),t.qZA()(),t.BQk()),2&e){const n=o.$implicit,i=o.index;t.xp6(1),t.Q6J("routerLink",t.VKq(9,F,n._id)),t.xp6(2),t.Oqu(i+1),t.xp6(2),t.AsE("",n.firstName," ",n.lastName,""),t.xp6(2),t.Oqu(n.email),t.xp6(2),t.Oqu(n.phoneNumber),t.xp6(2),t.Oqu(n.companyName),t.xp6(2),t.Oqu(n.department),t.xp6(2),t.Oqu(n.designation)}}const J=function(e,o,n){return{itemsPerPage:e,currentPage:o,totalItems:n}};function Q(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",12)(2,"table",13)(3,"thead",14)(4,"tr",15)(5,"th"),t._uU(6,"#"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Email"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Phone Number"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Company"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Department"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Designation"),t.qZA()()(),t.TgZ(19,"tbody"),t.YNc(20,I,16,11,"ng-container",16),t.ALo(21,"paginate"),t.qZA()()(),t.TgZ(22,"div",17)(23,"pagination-controls",18),t.NdJ("pageChange",function(r){t.CHM(n);const s=t.oxw(3);return t.KtG(s.onPageChange(r))}),t.qZA()(),t.BQk()}if(2&e){const n=t.oxw(3);t.xp6(20),t.Q6J("ngForOf",t.xi3(21,1,n.clients.results,t.kEZ(4,J,n.clients.pageSize,n.currentPage,n.clients.totalItems)))}}function L(e,o){1&e&&t._UZ(0,"app-no-data-found",22),2&e&&t.Q6J("dataLabel","Client")}function M(e,o){if(1&e&&(t.YNc(0,Q,24,8,"ng-container",6),t.YNc(1,L,1,1,"ng-template",null,11,t.W1O)),2&e){const n=t.MAs(2),i=t.oxw(2);t.Q6J("ngIf",i.clients&&i.clients.results.length)("ngIfElse",n)}}function Y(e,o){if(1&e&&(t.YNc(0,E,3,1,"ng-container",6),t.YNc(1,M,3,2,"ng-template",null,9,t.W1O)),2&e){const n=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.errorMessage)("ngIfElse",n)}}let k=(()=>{class e{constructor(n){this.clientService=n,this.currentPage=1,this.pageSize=10,this.options=[{name:"Client Name",formname:"name",type:"text"},{name:"Company",formname:"companyName",type:"text"},{name:"Designation",formname:"designation",type:"text"}],this.loading=!0}ngOnInit(){this.loadClients({type:"client"})}loadClients(n){this.loading=!0,this.clientService.getAllClientSuppliers(this.currentPage,this.pageSize,n).subscribe({next:i=>{this.clients=i},error:i=>{this.errorMessage=i,this.loading=!1},complete:()=>{this.loading=!1}})}onPageChange(n){this.currentPage=n,this.loadClients({type:"client"})}searchFunction(n){const i={...n,type:"client"};this.loadClients(i)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(A.y))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-clients"]],decls:13,vars:4,consts:[[1,"py-4"],[1,"d-flex"],[1,"flex-grow-1"],[1,"text-secondary","fw-normal","mb-1"],[3,"searchlabel","searchOptions","searchEmit"],["routerLink","/stake/clients/add",1,"btn","btn-outline-primary","btn-sm"],[4,"ngIf","ngIfElse"],["loadedContent",""],[1,"py-3"],["noError",""],[3,"errorMessage"],["nodata",""],[1,"table-responsive"],[1,"table","table-bordered","table-striped","table-hover"],[1,"thead"],[1,""],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[1,"my-pagination",3,"pageChange"],[1,"cursor-pointer",3,"routerLink"],[1,"text-nowrap"],[1,"text-capitalize"],[3,"dataLabel"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4,"Clients"),t.qZA()(),t.ynx(5),t.TgZ(6,"app-search-tab",4),t.NdJ("searchEmit",function(s){return i.searchFunction(s)}),t.qZA(),t.BQk(),t.TgZ(7,"div")(8,"button",5),t._uU(9," Add Client"),t.qZA()()(),t.YNc(10,U,3,0,"ng-container",6),t.YNc(11,Y,3,2,"ng-template",null,7,t.W1O),t.qZA()),2&n){const r=t.MAs(12);t.xp6(6),t.Q6J("searchlabel","Search Clients")("searchOptions",i.options),t.xp6(4),t.Q6J("ngIf",i.loading)("ngIfElse",r)}},dependencies:[d.sg,d.O5,y.S,N.i,b.A,q.O,h.LS,c.rH,h._s]}),e})();var S=l(6534);function O(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",32),t._UZ(2,"app-error-occured",33),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("errorMessage",n.errorMessage)}}function D(e,o){1&e&&(t.TgZ(0,"div",34),t._uU(1," First Name is required. "),t.qZA())}function B(e,o){1&e&&(t.TgZ(0,"div",34),t._uU(1," Last Name is required. "),t.qZA())}function P(e,o){1&e&&(t.TgZ(0,"div",34),t._uU(1," Email is required. "),t.qZA())}function z(e,o){1&e&&(t.TgZ(0,"div",34),t._uU(1," Phone Number is required. "),t.qZA())}function w(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"ng-option",38),t._uU(2),t.qZA(),t.BQk()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("value",n.name),t.xp6(1),t.hij(" ",n.name," ")}}function G(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"ng-select",35)(2,"ng-option",36),t._uU(3,"Select Country"),t.qZA(),t.YNc(4,w,3,2,"ng-container",37),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(4),t.Q6J("ngForOf",n.listCountries)}}function j(e,o){1&e&&(t.TgZ(0,"div",34),t._uU(1," Company Name is required. "),t.qZA())}function H(e,o){1&e&&(t.TgZ(0,"div",34),t._uU(1," Department is required. "),t.qZA())}function K(e,o){1&e&&(t.TgZ(0,"div",34),t._uU(1," Designation is required. "),t.qZA())}function W(e,o){1&e&&(t.TgZ(0,"div",34),t._uU(1," Description is required. "),t.qZA())}function X(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",39),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.deleteClient())}),t._uU(2,"Delete Client"),t.qZA(),t.TgZ(3,"button",40),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.updateClient())}),t._uU(4,"Edit Client"),t.qZA(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.clientForm.invalid),t.xp6(2),t.Q6J("disabled",n.clientForm.invalid)}}function V(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.addClient())}),t._uU(1,"Add Client"),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("disabled",n.clientForm.invalid)}}let x=(()=>{class e{constructor(n,i,r,s){this.formBuilder=n,this.router=i,this.clientService=r,this.route=s,this.title="Add Client",this.submiting=!1,this.loading=!1,this.listCountries=S.h}ngOnInit(){this.clientForm=this.formBuilder.group({firstName:["",a.kI.required],lastName:["",a.kI.required],phoneNumber:["",a.kI.required],email:[""],companyName:[""],department:[""],designation:[""],description:[""],address:this.formBuilder.group({country:[""],zipCode:[""],state:[""],city:[""],street:[""]}),type:["client"]}),this.clientId=this.route.snapshot.paramMap.get("id"),this.clientId&&(this.title="Edit Client",this.getClient(this.clientId))}getClient(n){this.loading=!0,this.clientService.getClientSupplier(n).subscribe({next:i=>{this.clientForm.patchValue(i)},error:i=>{this.errorMessage=i,this.loading=!1},complete:()=>{this.loading=!1}})}addClient(){this.clientForm.valid&&(this.submiting=!0,this.clientService.createClientSupplier(this.clientForm.value).subscribe({next:i=>{this.clientForm.reset(),this.router.navigate(["/stake/clients"])},error:i=>{this.errorMessage=i,this.submiting=!1},complete:()=>{this.submiting=!1}}))}updateClient(){const n=this.clientForm.value;this.submiting=!0,this.clientService.updateClientSupplier(this.clientId,n).subscribe({next:i=>{this.router.navigate(["/stake/clients"])},error:i=>{this.errorMessage=i,this.submiting=!1},complete:()=>{this.submiting=!1}})}deleteClient(){this.submiting=!0,this.clientService.deleteClientSupplier(this.clientId).subscribe({next:n=>{this.router.navigate(["/stake/clients"])},error:n=>{this.errorMessage=n,this.submiting=!1},complete:()=>{this.submiting=!1}})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.qu),t.Y36(c.F0),t.Y36(A.y),t.Y36(c.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-edit-clients"]],decls:89,vars:14,consts:[[4,"ngIf"],[1,"my-4",3,"formGroup"],[1,"d-flex"],[1,"flex-grow-1"],[1,"fw-normal"],["routerLink","/stake/clients",1,"btn","btn-outline-secondary","btn-sm"],[1,"row"],[1,"col-lg-6"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","formControlName","firstName","placeholder","Enter First Name",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["type","text","id","title","formControlName","lastName","placeholder","Enter Last Name",1,"form-control"],["type","email","id","title","formControlName","email","placeholder","Enter Email",1,"form-control"],["type","text","id","title","formControlName","phoneNumber","placeholder","Enter Phone Number",1,"form-control"],["formGroupName","address"],["for","country",1,"form-label"],["for","zipCode",1,"form-label"],["type","text","id","zipCode","formControlName","zipCode","placeholder","Enter Zip Code",1,"form-control"],["for","state",1,"form-label"],["type","text","id","state","formControlName","state","placeholder","Enter State",1,"form-control"],["for","city",1,"form-label"],["type","text","id","city","formControlName","city","placeholder","Enter City",1,"form-control"],["for","street",1,"form-label"],["type","text","id","street","formControlName","street","placeholder","Enter Street",1,"form-control"],["type","text","id","title","formControlName","companyName","placeholder","Enter Company Name",1,"form-control"],["type","text","id","title","formControlName","department","placeholder","Enter Department",1,"form-control"],["type","text","id","title","formControlName","designation","placeholder","Enter Designation",1,"form-control"],["for","description",1,"form-label"],["id","description","formControlName","description","placeholder","Enter Description",1,"form-control"],[4,"ngIf","ngIfElse"],["addTasking",""],[1,"py-3"],[3,"errorMessage"],[1,"invalid-feedback"],["formControlName","country","id","country"],["value","","disabled",""],[4,"ngFor","ngForOf"],[3,"value"],["type","submit",1,"btn","btn-danger","btn-sm","me-2",3,"disabled","click"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["type","submit",1,"btn","btn-success","btn-sm",3,"disabled","click"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,O,3,1,"ng-container",0),t.TgZ(2,"form",1)(3,"div",2)(4,"div",3)(5,"h2",4),t._uU(6),t.qZA()(),t.TgZ(7,"div")(8,"button",5),t._uU(9," List Clients"),t.qZA()()(),t.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),t._uU(14,"First Name"),t.qZA(),t._UZ(15,"input",10),t.YNc(16,D,2,0,"div",11),t.qZA()(),t.TgZ(17,"div",7)(18,"div",8)(19,"label",9),t._uU(20,"Last Name"),t.qZA(),t._UZ(21,"input",12),t.YNc(22,B,2,0,"div",11),t.qZA()()(),t.TgZ(23,"div",6)(24,"div",7)(25,"div",8)(26,"label",9),t._uU(27,"Email"),t.qZA(),t._UZ(28,"input",13),t.YNc(29,P,2,0,"div",11),t.qZA()(),t.TgZ(30,"div",7)(31,"div",8)(32,"label",9),t._uU(33,"Phone Number"),t.qZA(),t._UZ(34,"input",14),t.YNc(35,z,2,0,"div",11),t.qZA()()(),t.TgZ(36,"div",15)(37,"div",8)(38,"label",16),t._uU(39,"Country"),t.qZA(),t.YNc(40,G,5,1,"ng-container",0),t.qZA(),t.TgZ(41,"div",6)(42,"div",7)(43,"div",8)(44,"label",17),t._uU(45,"Zip Code"),t.qZA(),t._UZ(46,"input",18),t.qZA()(),t.TgZ(47,"div",7)(48,"div",8)(49,"label",19),t._uU(50,"State"),t.qZA(),t._UZ(51,"input",20),t.qZA()()(),t.TgZ(52,"div",6)(53,"div",7)(54,"div",8)(55,"label",21),t._uU(56,"City"),t.qZA(),t._UZ(57,"input",22),t.qZA()(),t.TgZ(58,"div",7)(59,"div",8)(60,"label",23),t._uU(61,"Street"),t.qZA(),t._UZ(62,"input",24),t.qZA()()()(),t.TgZ(63,"div",6)(64,"div",7)(65,"div",8)(66,"label",9),t._uU(67,"Company"),t.qZA(),t._UZ(68,"input",25),t.YNc(69,j,2,0,"div",11),t.qZA()(),t.TgZ(70,"div",7)(71,"div",8)(72,"label",9),t._uU(73,"Department"),t.qZA(),t._UZ(74,"input",26),t.YNc(75,H,2,0,"div",11),t.qZA()()(),t.TgZ(76,"div",8)(77,"label",9),t._uU(78,"Designation"),t.qZA(),t._UZ(79,"input",27),t.YNc(80,K,2,0,"div",11),t.qZA(),t.TgZ(81,"div",8)(82,"label",28),t._uU(83,"Description"),t.qZA(),t._UZ(84,"textarea",29),t.YNc(85,W,2,0,"div",11),t.qZA(),t.YNc(86,X,5,2,"ng-container",30),t.YNc(87,V,2,1,"ng-template",null,31,t.W1O),t.qZA()()),2&n){const r=t.MAs(88);let s,m,p,u,g,_,f,C;t.xp6(1),t.Q6J("ngIf",i.errorMessage),t.xp6(1),t.Q6J("formGroup",i.clientForm),t.xp6(4),t.Oqu(i.title),t.xp6(10),t.Q6J("ngIf",(null==(s=i.clientForm.get("firstName"))?null:s.invalid)&&(null==(s=i.clientForm.get("firstName"))?null:s.touched)),t.xp6(6),t.Q6J("ngIf",(null==(m=i.clientForm.get("lastName"))?null:m.invalid)&&(null==(m=i.clientForm.get("lastName"))?null:m.touched)),t.xp6(7),t.Q6J("ngIf",(null==(p=i.clientForm.get("email"))?null:p.invalid)&&(null==(p=i.clientForm.get("email"))?null:p.touched)),t.xp6(6),t.Q6J("ngIf",(null==(u=i.clientForm.get("phoneNumber"))?null:u.invalid)&&(null==(u=i.clientForm.get("phoneNumber"))?null:u.touched)),t.xp6(5),t.Q6J("ngIf",i.listCountries),t.xp6(29),t.Q6J("ngIf",(null==(g=i.clientForm.get("companyName"))?null:g.invalid)&&(null==(g=i.clientForm.get("companyName"))?null:g.touched)),t.xp6(6),t.Q6J("ngIf",(null==(_=i.clientForm.get("department"))?null:_.invalid)&&(null==(_=i.clientForm.get("department"))?null:_.touched)),t.xp6(5),t.Q6J("ngIf",(null==(f=i.clientForm.get("designation"))?null:f.invalid)&&(null==(f=i.clientForm.get("designation"))?null:f.touched)),t.xp6(5),t.Q6J("ngIf",(null==(C=i.clientForm.get("description"))?null:C.invalid)&&(null==(C=i.clientForm.get("description"))?null:C.touched)),t.xp6(1),t.Q6J("ngIf",i.clientId)("ngIfElse",r)}},dependencies:[d.sg,d.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,a.x0,b.A,Z.w9,Z.jq,c.rH]}),e})();const $=[{path:"",component:k},{path:"add",component:x},{path:"edit/:id",component:x}];let R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,a.u5,a.UX,T.C,h.JX,Z.A0,c.Bz.forChild($)]}),e})()}}]);