"use strict";(self.webpackChunksuluhi_admin_frontend=self.webpackChunksuluhi_admin_frontend||[]).push([[697],{697:(L,v,l)=>{l.r(v),l.d(v,{LoansModule:()=>nt});var e=l(6895),c=l(6354),r=l(4006),T=l(4333),_=l(1213),p=l(8796),t=l(4650),f=l(2340),x=l(529);let A=(()=>{class o{constructor(n){this.http=n,this.apiUrl=`${f.N.apiUrl}loans`}createLoan(n){return this.http.post(this.apiUrl,n)}getLoan(n){return this.http.get(`${this.apiUrl}/${n}`)}updateLoan(n,a){return this.http.put(`${this.apiUrl}/${n}`,a)}deleteLoan(n){return this.http.delete(`${this.apiUrl}/${n}`)}getAllLoans(n,a,s){const g={currentPage:n,pageSize:a,...s};return this.http.get(this.apiUrl,{params:g})}static#t=this.\u0275fac=function(a){return new(a||o)(t.LFG(x.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var q=l(583),b=l(8057);function m(o,u){if(1&o&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"app-error-occured",31),t.qZA(),t.BQk()),2&o){const n=t.oxw();t.xp6(2),t.Q6J("errorMessage",n.errorMessage)}}function Z(o,u){if(1&o&&(t.ynx(0),t.TgZ(1,"ng-option",35),t._uU(2),t.qZA(),t.BQk()),2&o){const n=u.$implicit;t.xp6(1),t.Q6J("value",n._id),t.xp6(1),t.AsE(" ",n.firstName," ",n.lastName," ")}}function i(o,u){if(1&o&&(t.ynx(0),t.TgZ(1,"ng-select",32)(2,"ng-option",33),t._uU(3,"Search Customer"),t.qZA(),t.YNc(4,Z,3,3,"ng-container",34),t.qZA(),t.BQk()),2&o){const n=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",n.clients.results)}}function d(o,u){1&o&&(t.TgZ(0,"div",36),t._uU(1," Customer is required. "),t.qZA())}function h(o,u){if(1&o&&(t.ynx(0),t.TgZ(1,"div",6)(2,"div"),t.YNc(3,i,5,1,"ng-container",0),t.qZA(),t.YNc(4,d,2,0,"div",16),t.qZA(),t.BQk()),2&o){const n=t.oxw();let a;t.xp6(3),t.Q6J("ngIf",n.clients&&n.clients.results.length),t.xp6(1),t.Q6J("ngIf",(null==(a=n.loanForm.get("customerid"))?null:a.invalid)&&(null==(a=n.loanForm.get("customerid"))?null:a.touched))}}function D(o,u){1&o&&(t.TgZ(0,"div",36),t._uU(1," Loan Provider is required. "),t.qZA())}function J(o,u){if(1&o&&(t.ynx(0),t.TgZ(1,"div",6),t._UZ(2,"input",37),t.YNc(3,D,2,0,"div",16),t.qZA(),t.BQk()),2&o){const n=t.oxw();let a;t.xp6(3),t.Q6J("ngIf",(null==(a=n.loanForm.get("recipient"))?null:a.invalid)&&(null==(a=n.loanForm.get("recipient"))?null:a.touched))}}function M(o,u){1&o&&(t.TgZ(0,"div",36),t._uU(1," Amount is required. "),t.qZA())}function Q(o,u){1&o&&(t.TgZ(0,"div",36),t._uU(1," Interest Rate is required. "),t.qZA())}function S(o,u){1&o&&(t.TgZ(0,"div",36),t._uU(1," Company Name is required. "),t.qZA())}function k(o,u){1&o&&(t.TgZ(0,"div",36),t._uU(1," Department is required. "),t.qZA())}function P(o,u){1&o&&(t.TgZ(0,"div",36),t._uU(1," Description is required. "),t.qZA())}function Y(o,u){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",38),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.deleteLoan())}),t._uU(2,"Delete Loan"),t.qZA(),t.TgZ(3,"button",39),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.updateLoan())}),t._uU(4,"Edit Loan"),t.qZA(),t.BQk()}if(2&o){const n=t.oxw();t.xp6(3),t.Q6J("disabled",n.loanForm.invalid)}}function w(o,u){if(1&o){const n=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.addLoan())}),t._uU(1,"Add Loan"),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("disabled",n.loanForm.invalid)}}let O=(()=>{class o{constructor(n,a,s,g,C){this.formBuilder=n,this.router=a,this.loanService=s,this.clientService=g,this.route=C,this.title="Add Loan",this.submiting=!1,this.loading=!1,this.loadingclients=!1}ngOnInit(){this.loadClients({}),this.loanForm=this.formBuilder.group({customerid:["",r.kI.required],recipient:["",r.kI.required],amount:["",r.kI.required],interestRate:["",r.kI.required],customerordirect:["customer"],startDate:[""],endDate:[""],loanstatus:["approved"],description:[""]}),this.loanId=this.route.snapshot.paramMap.get("id"),this.loanId?(this.title="Edit Loans",this.getLoan(this.loanId),this.loanForm.get("customerordirect")?.disable()):this.checkIfCustomer()}getLoan(n){this.loading=!0,this.loanService.getLoan(n).subscribe({next:a=>{const s=new Date(a.startDate).toISOString().substring(0,10),g=new Date(a.endDate).toISOString().substring(0,10);a.startDate=s,a.endDate=g,this.loanForm.patchValue(a),this.checkIfCustomer()},error:a=>{this.errorMessage=a,this.loading=!1},complete:()=>{this.loading=!1}})}addLoan(){this.loanForm.valid&&(this.submiting=!0,this.loanService.createLoan(this.loanForm.value).subscribe({next:a=>{this.loanForm.reset(),this.router.navigate(["/accounts/loans"])},error:a=>{this.errorMessage=a,this.submiting=!1},complete:()=>{this.submiting=!1}}))}updateLoan(){const n=this.loanForm.value;this.submiting=!0,this.loanService.updateLoan(this.loanId,n).subscribe({next:a=>{this.router.navigate(["/accounts/loans"])},error:a=>{this.errorMessage=a,this.submiting=!1},complete:()=>{this.submiting=!1}})}deleteLoan(){this.submiting=!0,this.loanService.deleteLoan(this.loanId).subscribe({next:n=>{this.router.navigate(["/accounts/loans"])},error:n=>{this.errorMessage=n,this.submiting=!1},complete:()=>{this.submiting=!1}})}loadClients(n){this.loadingclients=!0,this.clientService.getAllClientSuppliers(1,100,n).subscribe({next:a=>{this.clients=a},error:a=>{this.errorMessage=a,this.loadingclients=!1},complete:()=>{this.loadingclients=!1}})}checkIfCustomer(){const n=this.loanForm.get("customerordirect")?.value;"customer"===n?(this.loanForm.removeControl("recipient"),this.loanForm.addControl("customerid",this.formBuilder.control("",r.kI.required))):"recipient"===n&&(this.loanForm.removeControl("customerid"),this.loanForm.addControl("recipient",this.formBuilder.control("",r.kI.required)))}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(r.qu),t.Y36(c.F0),t.Y36(A),t.Y36(q.y),t.Y36(c.gz))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-edit-loans"]],decls:67,vars:12,consts:[[4,"ngIf"],[1,"my-4",3,"formGroup"],[1,"d-flex"],[1,"flex-grow-1"],[1,"fw-normal"],["routerLink","/accounts/loans",1,"btn","btn-outline-secondary","btn-sm"],[1,"mb-3"],[1,"form-check","form-check-inline"],["type","radio","formControlName","customerordirect","id","inlineRadio3","value","customer",1,"form-check-input",3,"change"],["for","inlineRadio3",1,"form-check-label"],["type","radio","formControlName","customerordirect","id","inlineRadio5","value","recipient",1,"form-check-input",3,"change"],["for","inlineRadio5",1,"form-check-label"],[1,"row"],[1,"col-lg-6"],["for","title",1,"form-label"],["type","number","id","title","formControlName","amount","placeholder","Enter Amount",1,"form-control"],["class","sul-error",4,"ngIf"],["type","number","id","title","formControlName","interestRate","placeholder","Enter Interest Rate",1,"form-control"],["type","date","id","title","formControlName","startDate",1,"form-control"],["type","date","id","title","formControlName","endDate",1,"form-control"],["for","projectlink",1,"form-label"],["aria-label","Default select example","formControlName","loanstatus",1,"form-select"],["value","pending"],["value","approved"],["value","rejected"],["value","paid"],["for","description",1,"form-label"],["id","description","formControlName","description","placeholder","Enter Description",1,"form-control"],[4,"ngIf","ngIfElse"],["adding",""],[1,"py-3"],[3,"errorMessage"],["formControlName","customerid"],["value","","disabled",""],[4,"ngFor","ngForOf"],[3,"value"],[1,"sul-error"],["type","text","id","title","formControlName","recipient","placeholder","Enter Loan Provider",1,"form-control"],["type","submit",1,"btn","btn-danger","btn-sm","me-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["type","submit",1,"btn","btn-success","btn-sm",3,"disabled","click"]],template:function(a,s){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,m,3,1,"ng-container",0),t.TgZ(2,"form",1)(3,"div",2)(4,"div",3)(5,"h2",4),t._uU(6),t.qZA()(),t.TgZ(7,"div")(8,"button",5),t._uU(9," List Loans"),t.qZA()()(),t.TgZ(10,"div",6)(11,"div",7)(12,"input",8),t.NdJ("change",function(){return s.checkIfCustomer()}),t.qZA(),t.TgZ(13,"label",9),t._uU(14,"Customer"),t.qZA()(),t.TgZ(15,"div",7)(16,"input",10),t.NdJ("change",function(){return s.checkIfCustomer()}),t.qZA(),t.TgZ(17,"label",11),t._uU(18,"Provider"),t.qZA()()(),t.YNc(19,h,5,2,"ng-container",0),t.YNc(20,J,4,1,"ng-container",0),t.TgZ(21,"div",12)(22,"div",13)(23,"div",6)(24,"label",14),t._uU(25,"Amount"),t.qZA(),t._UZ(26,"input",15),t.YNc(27,M,2,0,"div",16),t.qZA()(),t.TgZ(28,"div",13)(29,"div",6)(30,"label",14),t._uU(31,"Interest Rate"),t.qZA(),t._UZ(32,"input",17),t.YNc(33,Q,2,0,"div",16),t.qZA()()(),t.TgZ(34,"div",12)(35,"div",13)(36,"div",6)(37,"label",14),t._uU(38,"Issue Date"),t.qZA(),t._UZ(39,"input",18),t.YNc(40,S,2,0,"div",16),t.qZA()(),t.TgZ(41,"div",13)(42,"div",6)(43,"label",14),t._uU(44,"Due Date"),t.qZA(),t._UZ(45,"input",19),t.YNc(46,k,2,0,"div",16),t.qZA()()(),t.TgZ(47,"div",6)(48,"label",20),t._uU(49,"Loan Status"),t.qZA(),t.TgZ(50,"select",21)(51,"option",22),t._uU(52,"Pending"),t.qZA(),t.TgZ(53,"option",23),t._uU(54,"Approved"),t.qZA(),t.TgZ(55,"option",24),t._uU(56,"Rejected"),t.qZA(),t.TgZ(57,"option",25),t._uU(58,"Paid"),t.qZA()()(),t.TgZ(59,"div",6)(60,"label",26),t._uU(61,"Description"),t.qZA(),t._UZ(62,"textarea",27),t.YNc(63,P,2,0,"div",16),t.qZA(),t.YNc(64,Y,5,1,"ng-container",28),t.YNc(65,w,2,1,"ng-template",null,29,t.W1O),t.qZA()()),2&a){const g=t.MAs(66);let C,N,y,U,E,F,I;t.xp6(1),t.Q6J("ngIf",s.errorMessage),t.xp6(1),t.Q6J("formGroup",s.loanForm),t.xp6(4),t.Oqu(s.title),t.xp6(13),t.Q6J("ngIf","customer"===(null==(C=s.loanForm.get("customerordirect"))?null:C.value)),t.xp6(1),t.Q6J("ngIf","recipient"===(null==(N=s.loanForm.get("customerordirect"))?null:N.value)),t.xp6(7),t.Q6J("ngIf",(null==(y=s.loanForm.get("amount"))?null:y.invalid)&&(null==(y=s.loanForm.get("amount"))?null:y.touched)),t.xp6(6),t.Q6J("ngIf",(null==(U=s.loanForm.get("interestRate"))?null:U.invalid)&&(null==(U=s.loanForm.get("interestRate"))?null:U.touched)),t.xp6(7),t.Q6J("ngIf",(null==(E=s.loanForm.get("startDate"))?null:E.invalid)&&(null==(E=s.loanForm.get("startDate"))?null:E.touched)),t.xp6(6),t.Q6J("ngIf",(null==(F=s.loanForm.get("endDate"))?null:F.invalid)&&(null==(F=s.loanForm.get("endDate"))?null:F.touched)),t.xp6(17),t.Q6J("ngIf",(null==(I=s.loanForm.get("description"))?null:I.invalid)&&(null==(I=s.loanForm.get("description"))?null:I.touched)),t.xp6(1),t.Q6J("ngIf",s.loanId)("ngIfElse",g)}},dependencies:[e.sg,e.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r._,r.JJ,r.JL,r.sg,r.u,b.A,p.w9,p.jq,c.rH]})}return o})();var B=l(7997),R=l(5511),K=l(295);function V(o,u){1&o&&(t.ynx(0),t.TgZ(1,"div",8),t._UZ(2,"app-sul-loader"),t.qZA(),t.BQk())}function $(o,u){if(1&o&&(t.ynx(0),t.TgZ(1,"div",8),t._UZ(2,"app-error-occured",10),t.qZA(),t.BQk()),2&o){const n=t.oxw(2);t.xp6(2),t.Q6J("errorMessage",n.errorMessage)}}const j=function(o){return["edit",o]};function G(o,u){if(1&o&&(t.ynx(0),t.TgZ(1,"tr",18)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"currency"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"date"),t.qZA(),t.TgZ(15,"td",19),t._uU(16),t.qZA()(),t.BQk()),2&o){const n=u.$implicit,a=u.index;t.xp6(1),t.Q6J("routerLink",t.VKq(14,j,n._id)),t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(t.xi3(6,7,n.amount,"Ksh ")),t.xp6(3),t.hij("",n.interestRate,"% "),t.xp6(2),t.Oqu(t.lcZ(11,10,n.startDate)),t.xp6(3),t.Oqu(t.lcZ(14,12,n.endDate)),t.xp6(3),t.Oqu(n.loanstatus)}}const W=function(o,u,n){return{itemsPerPage:o,currentPage:u,totalItems:n}};function H(o,u){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",12)(2,"table",13)(3,"thead",14)(4,"tr")(5,"th"),t._uU(6,"#"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Amount"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Interest Rate"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Issue Date"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Due Date"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Status"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,G,17,16,"ng-container",15),t.ALo(19,"paginate"),t.qZA()()(),t.TgZ(20,"div",16)(21,"pagination-controls",17),t.NdJ("pageChange",function(s){t.CHM(n);const g=t.oxw(3);return t.KtG(g.onPageChange(s))}),t.qZA()(),t.BQk()}if(2&o){const n=t.oxw(3);t.xp6(18),t.Q6J("ngForOf",t.xi3(19,1,n.loans.results,t.kEZ(4,W,n.loans.pageSize,n.currentPage,n.loans.totalItems)))}}function z(o,u){1&o&&t._UZ(0,"app-no-data-found",20),2&o&&t.Q6J("dataLabel","Loan")}function X(o,u){if(1&o&&(t.YNc(0,H,22,8,"ng-container",6),t.YNc(1,z,1,1,"ng-template",null,11,t.W1O)),2&o){const n=t.MAs(2),a=t.oxw(2);t.Q6J("ngIf",a.loans&&a.loans.results.length)("ngIfElse",n)}}function tt(o,u){if(1&o&&(t.YNc(0,$,3,1,"ng-container",6),t.YNc(1,X,3,2,"ng-template",null,9,t.W1O)),2&o){const n=t.MAs(2),a=t.oxw();t.Q6J("ngIf",a.errorMessage)("ngIfElse",n)}}const et=[{path:"",component:(()=>{class o{constructor(n){this.loanService=n,this.loading=!0,this.currentPage=1,this.pageSize=10,this.options=[{name:"Issue Date",formname:"startDate",type:"date"},{name:"Due Date",formname:"endDate",type:"date"},{name:"Amount",formname:"amount",type:"number"},{name:"Status",formname:"loanstatus",type:"select",selectoptions:[{val:"pending",name:"Pending"},{val:"approved",name:"Approved"},{val:"rejected",name:"Rejected"}]}]}ngOnInit(){this.loadTasks({})}loadTasks(n){this.loading=!0,this.loanService.getAllLoans(this.currentPage,this.pageSize,n).subscribe({next:a=>{this.loans=a},error:a=>{this.errorMessage=a,this.loading=!1},complete:()=>{this.loading=!1}})}searchFunction(n){this.loadTasks(n)}onPageChange(n){this.currentPage=n,this.loadTasks({})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(A))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-list-loans"]],decls:13,vars:3,consts:[[1,"py-4"],[1,"d-flex"],[1,"flex-grow-1"],[1,"text-secondary","fw-normal","mb-1"],[3,"searchOptions","searchEmit"],["routerLink","/accounts/loans/add",1,"btn","btn-outline-primary","btn-sm"],[4,"ngIf","ngIfElse"],["loadedContent",""],[1,"py-3"],["noError",""],[3,"errorMessage"],["nodata",""],[1,"table-responsive"],[1,"table","table-bordered","table-striped","text-nowrap"],[1,"thead"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","pt-3"],[1,"my-pagination",3,"pageChange"],[1,"cursor-pointer",3,"routerLink"],[1,"text-capitalize"],[3,"dataLabel"]],template:function(a,s){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4,"Loans"),t.qZA()(),t.ynx(5),t.TgZ(6,"app-search-tab",4),t.NdJ("searchEmit",function(C){return s.searchFunction(C)}),t.qZA(),t.BQk(),t.TgZ(7,"div")(8,"button",5),t._uU(9," Add Loan"),t.qZA()()(),t.YNc(10,V,3,0,"ng-container",6),t.YNc(11,tt,3,2,"ng-template",null,7,t.W1O),t.qZA()),2&a){const g=t.MAs(12);t.xp6(6),t.Q6J("searchOptions",s.options),t.xp6(4),t.Q6J("ngIf",s.loading)("ngIfElse",g)}},dependencies:[e.sg,e.O5,B.S,R.i,b.A,K.O,T.LS,c.rH,e.H9,e.uU,T._s]})}return o})()},{path:"add",component:O},{path:"edit/:id",component:O},{path:"view/:id",component:(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-details-loan"]],decls:2,vars:0,template:function(a,s){1&a&&(t.TgZ(0,"p"),t._uU(1,"details-loan works!"),t.qZA())}})}return o})()},{path:"**",redirectTo:"",pathMatch:"full"}];let nt=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[e.ez,r.u5,r.UX,_.C,T.JX,p.A0,c.Bz.forChild(et)]})}return o})()},8057:(L,v,l)=>{l.d(v,{A:()=>c});var e=l(4650);let c=(()=>{class r{ngOnInit(){this.errorMessage?.error?.message&&(this.errormes=this.errorMessage.error.message)}static#t=this.\u0275fac=function(p){return new(p||r)};static#e=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-error-occured"]],inputs:{errorMessage:"errorMessage"},decls:4,vars:1,consts:[[1,"py-2"],["role","alert",1,"alert","alert-danger"],[1,"d-flex","align-items-center"]],template:function(p,t){1&p&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA()()()),2&p&&(e.xp6(3),e.hij(" ",t.errormes?t.errormes:t.errorMessage.message," "))}})}return r})()},5511:(L,v,l)=>{l.d(v,{i:()=>c});var e=l(4650);let c=(()=>{class r{static#t=this.\u0275fac=function(p){return new(p||r)};static#e=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-no-data-found"]],inputs:{dataLabel:"dataLabel"},decls:4,vars:1,consts:[[1,"py-2"],["role","alert",1,"alert","alert-info"],[1,"d-flex","align-items-center"]],template:function(p,t){1&p&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA()()()),2&p&&(e.xp6(3),e.hij(" No ",t.dataLabel," record found with the given filter parameters "))}})}return r})()},295:(L,v,l)=>{l.d(v,{O:()=>b});var e=l(4650),c=l(4006),r=l(6895),T=l(7392);function _(m,Z){if(1&m&&e._UZ(0,"input",11),2&m){const i=e.oxw(2);e.Q6J("type",i.inputype)("placeholder",i.searchlabel)}}function p(m,Z){if(1&m&&(e.ynx(0),e.TgZ(1,"option",13),e._uU(2),e.qZA(),e.BQk()),2&m){const i=Z.$implicit;e.xp6(1),e.Q6J("value",i.val),e.xp6(1),e.Oqu(i.name)}}function t(m,Z){if(1&m&&(e.TgZ(0,"select",12),e.YNc(1,p,3,2,"ng-container",8),e.qZA()),2&m){const i=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",i.selectoptions)}}function f(m,Z){if(1&m&&(e.ynx(0),e.TgZ(1,"option",13),e._uU(2),e.qZA(),e.BQk()),2&m){const i=Z.$implicit;e.xp6(1),e.Q6J("value",i.formname),e.xp6(1),e.Oqu(i.name)}}function x(m,Z){if(1&m){const i=e.EpF();e.TgZ(0,"mat-icon",14),e.NdJ("click",function(){e.CHM(i);const h=e.oxw(2);return e.KtG(h.submitForm())}),e._uU(1,"manage_search"),e.qZA()}}function A(m,Z){if(1&m){const i=e.EpF();e.TgZ(0,"mat-icon",15),e.NdJ("click",function(){e.CHM(i);const h=e.oxw(2);return e.KtG(h.resetSearch())}),e._uU(1,"close"),e.qZA()}}function q(m,Z){if(1&m){const i=e.EpF();e.TgZ(0,"form",2)(1,"div",3),e.YNc(2,_,1,2,"input",4),e.YNc(3,t,2,1,"select",5),e.TgZ(4,"select",6),e.NdJ("change",function(){e.CHM(i);const h=e.oxw();return e.KtG(h.paramChange())}),e.TgZ(5,"option",7),e._uU(6,"Select Parameter"),e.qZA(),e.YNc(7,f,3,2,"ng-container",8),e.qZA(),e.YNc(8,x,2,0,"mat-icon",9),e.YNc(9,A,2,0,"mat-icon",10),e.qZA()()}if(2&m){const i=e.oxw();e.Q6J("formGroup",i.searchForm),e.xp6(2),e.Q6J("ngIf",!i.dispselect),e.xp6(1),e.Q6J("ngIf",i.dispselect&&i.selectoptions.length),e.xp6(2),e.Q6J("value",""),e.xp6(2),e.Q6J("ngForOf",i.searchOptions),e.xp6(1),e.Q6J("ngIf",i.searchForm.valid),e.xp6(1),e.Q6J("ngIf",i.searched)}}let b=(()=>{class m{constructor(i){this.searchFb=i,this.searchlabel="",this.searchOptions=[],this.searchEmit=new e.vpe,this.selectoptions=[],this.dispselect=!1,this.inputype="text",this.searched=!1,this.searchForm=this.searchFb.group({searchValue:["",c.kI.required],searchParam:["",c.kI.required]})}ngOnInit(){if(this.searchOptions.length){this.searchForm.controls.searchParam.setValue(this.searchOptions[0].formname);const i=this.searchOptions[0].type;this.searchlabel="Search by "+this.searchOptions[0].name,("text"===i||"date"===i||"number"===i)&&(this.inputype=i)}}paramChange(){this.dispselect=!1;const i=this.searchForm.get("searchParam")?.value;this.searchForm.controls.searchValue.setValue("");const d=this.searchOptions.find(h=>h.formname===i);this.searchlabel="Search by "+d?.name,d?.selectoptions&&d?.selectoptions.length?(this.dispselect=!0,this.selectoptions=d.selectoptions,this.searchForm.controls.searchValue.setValue(this.selectoptions[0].val)):this.inputype=d?.type}submitForm(){if(this.searchForm.valid){const{searchParam:i,searchValue:d}=this.searchForm.value,h={};i&&(h[i]=d,this.searched=!0,this.searchEmit.emit(h))}}resetSearch(){this.searched=!1,this.dispselect=!1,this.searchForm.controls.searchValue.setValue(""),this.searchForm.controls.searchParam.setValue(""),this.searchEmit.emit({})}static#t=this.\u0275fac=function(d){return new(d||m)(e.Y36(c.qu))};static#e=this.\u0275cmp=e.Xpm({type:m,selectors:[["app-search-tab"]],inputs:{searchOptions:"searchOptions"},outputs:{searchEmit:"searchEmit"},decls:2,vars:1,consts:[[1,"mb-2","me-2","d-none","d-lg-block"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"d-md-flex","align-items-center"],["class","form-control form-select-sm me-2  my-search","formControlName","searchValue",3,"type","placeholder",4,"ngIf"],["class","form-select  form-select-sm text-secondary my-search me-2","formControlName","searchValue",4,"ngIf"],["formControlName","searchParam",1,"form-select","form-select-sm","text-secondary","my-search","me-2",3,"change"],["disabled","",3,"value"],[4,"ngFor","ngForOf"],["class","m-0 text-primary",3,"click",4,"ngIf"],["class","m-0 text-danger",3,"click",4,"ngIf"],["formControlName","searchValue",1,"form-control","form-select-sm","me-2","my-search",3,"type","placeholder"],["formControlName","searchValue",1,"form-select","form-select-sm","text-secondary","my-search","me-2"],[3,"value"],[1,"m-0","text-primary",3,"click"],[1,"m-0","text-danger",3,"click"]],template:function(d,h){1&d&&(e.TgZ(0,"div",0),e.YNc(1,q,10,7,"form",1),e.qZA()),2&d&&(e.xp6(1),e.Q6J("ngIf",h.searchOptions&&h.searchOptions.length))},dependencies:[r.sg,r.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,T.Hw,c.sg,c.u],styles:["select[_ngcontent-%COMP%]{border-color:#0d6efd}.my-search[_ngcontent-%COMP%]{width:180px}"]})}return m})()},7997:(L,v,l)=>{l.d(v,{S:()=>c});var e=l(4650);let c=(()=>{class r{static#t=this.\u0275fac=function(p){return new(p||r)};static#e=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-sul-loader"]],decls:8,vars:0,consts:[[1,"py-2"],["role","alert",1,"alert","alert-warning"],[1,"d-flex","align-items-center"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"visually-hidden"],[1,"blinks"]],template:function(p,t){1&p&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._uU(5,"Loading..."),e.qZA()(),e.TgZ(6,"span",5),e._uU(7," \xa0 Loading ... "),e.qZA()()()())}})}return r})()},583:(L,v,l)=>{l.d(v,{y:()=>T});var e=l(2340),c=l(4650),r=l(529);let T=(()=>{class _{constructor(t){this.http=t,this.apiUrl=`${e.N.apiUrl}clientsupplier`}createClientSupplier(t){return this.http.post(this.apiUrl,t)}getClientSupplier(t){return this.http.get(`${this.apiUrl}/${t}`)}updateClientSupplier(t,f){return this.http.put(`${this.apiUrl}/${t}`,f)}deleteClientSupplier(t){return this.http.delete(`${this.apiUrl}/${t}`)}getAllClientSuppliers(t,f,x){const A={currentPage:t,pageSize:f,...x};return this.http.get(this.apiUrl,{params:A})}static#t=this.\u0275fac=function(f){return new(f||_)(c.LFG(r.eN))};static#e=this.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()}}]);