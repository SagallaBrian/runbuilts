"use strict";(self.webpackChunksuluhi_admin_frontend=self.webpackChunksuluhi_admin_frontend||[]).push([[299],{1299:(re,A,a)=>{a.r(A),a.d(A,{EmployeesModule:()=>le});var p=a(6895),r=a(4006),s=a(8869),v=a(8796),E=a(4333),C=a(1213),e=a(4650),q=a(2340),U=a(529);let b=(()=>{class t{constructor(o){this.http=o,this.apiUrl=`${q.N.apiUrl}employees`}createEmployee(o){return this.http.post(this.apiUrl,o)}getEmployee(o){return this.http.get(`${this.apiUrl}/${o}`)}updateEmployee(o,n){return this.http.put(`${this.apiUrl}/${o}`,n)}deleteEmployee(o){return this.http.delete(`${this.apiUrl}/${o}`)}getAllEmployees(o,n,l){const m={currentPage:o,pageSize:n,...l};return this.http.get(this.apiUrl,{params:m})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(U.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var N=a(7997),F=a(5511),x=a(8057),I=a(295);function J(t,i){1&t&&(e.ynx(0),e.TgZ(1,"div",8),e._UZ(2,"app-sul-loader"),e.qZA(),e.BQk())}function Q(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",8),e._UZ(2,"app-error-occured",10),e.qZA(),e.BQk()),2&t){const o=e.oxw(2);e.xp6(2),e.Q6J("errorMessage",o.errorMessage)}}const D=function(t){return["edit",t]};function O(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"tr",19)(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td",20),e._uU(7),e.qZA(),e.TgZ(8,"td",20),e._uU(9),e.qZA(),e.TgZ(10,"td",21),e._uU(11),e.qZA(),e.TgZ(12,"td",21),e._uU(13),e.qZA()(),e.BQk()),2&t){const o=i.$implicit,n=i.index;e.xp6(1),e.Q6J("routerLink",e.VKq(8,D,o._id)),e.xp6(2),e.Oqu(n+1),e.xp6(2),e.AsE("",o.firstName," ",o.lastName,""),e.xp6(2),e.Oqu(o.email),e.xp6(2),e.Oqu(o.phoneNumber),e.xp6(2),e.Oqu(o.department),e.xp6(2),e.Oqu(o.designation)}}const Y=function(t,i,o){return{itemsPerPage:t,currentPage:i,totalItems:o}};function S(t,i){if(1&t){const o=e.EpF();e.ynx(0),e.TgZ(1,"div",12)(2,"table",13)(3,"thead",14)(4,"tr",15)(5,"th"),e._uU(6,"#"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Name"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Email"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Phone Number"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Department"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Designation"),e.qZA()()(),e.TgZ(17,"tbody"),e.YNc(18,O,14,10,"ng-container",16),e.ALo(19,"paginate"),e.qZA()()(),e.TgZ(20,"div",17)(21,"pagination-controls",18),e.NdJ("pageChange",function(l){e.CHM(o);const m=e.oxw(3);return e.KtG(m.onPageChange(l))}),e.qZA()(),e.BQk()}if(2&t){const o=e.oxw(3);e.xp6(18),e.Q6J("ngForOf",e.xi3(19,1,o.employees.results,e.kEZ(4,Y,o.employees.pageSize,o.currentPage,o.employees.totalItems)))}}function M(t,i){1&t&&e._UZ(0,"app-no-data-found",22),2&t&&e.Q6J("dataLabel","Employee")}function L(t,i){if(1&t&&(e.YNc(0,S,22,8,"ng-container",6),e.YNc(1,M,1,1,"ng-template",null,11,e.W1O)),2&t){const o=e.MAs(2),n=e.oxw(2);e.Q6J("ngIf",n.employees&&n.employees.results.length)("ngIfElse",o)}}function B(t,i){if(1&t&&(e.YNc(0,Q,3,1,"ng-container",6),e.YNc(1,L,3,2,"ng-template",null,9,e.W1O)),2&t){const o=e.MAs(2),n=e.oxw();e.Q6J("ngIf",n.errorMessage)("ngIfElse",o)}}let k=(()=>{class t{constructor(o){this.employeeService=o,this.currentPage=1,this.pageSize=10,this.options=[{name:"Employee Name",formname:"name",type:"text"},{name:"Designation",formname:"designation",type:"text"}],this.loading=!0}ngOnInit(){this.loadEmployees({})}loadEmployees(o){this.loading=!0,this.employeeService.getAllEmployees(this.currentPage,this.pageSize,o).subscribe({next:n=>{this.employees=n},error:n=>{this.errorMessage=n,this.loading=!1},complete:()=>{this.loading=!1}})}onPageChange(o){this.currentPage=o,this.loadEmployees({type:"client"})}searchFunction(o){const n={...o,type:"client"};this.loadEmployees(n)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(b))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-list-employees"]],decls:13,vars:3,consts:[[1,"py-4"],[1,"d-flex"],[1,"flex-grow-1"],[1,"text-secondary","fw-normal","mb-1"],[3,"searchOptions","searchEmit"],["routerLink","/employees/add",1,"btn","btn-outline-primary","btn-sm"],[4,"ngIf","ngIfElse"],["loadedContent",""],[1,"py-3"],["noError",""],[3,"errorMessage"],["nodata",""],[1,"table-responsive"],[1,"table","table-bordered","table-striped","table-hover","text-nowrap"],[1,"thead"],[1,""],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","pt-3"],[1,"my-pagination",3,"pageChange"],[1,"cursor-pointer",3,"routerLink"],[1,"text-nowrap"],[1,"text-capitalize"],[3,"dataLabel"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Employees"),e.qZA()(),e.ynx(5),e.TgZ(6,"app-search-tab",4),e.NdJ("searchEmit",function(m){return n.searchFunction(m)}),e.qZA(),e.BQk(),e.TgZ(7,"div")(8,"button",5),e._uU(9," Add Employee"),e.qZA()()(),e.YNc(10,J,3,0,"ng-container",6),e.YNc(11,B,3,2,"ng-template",null,7,e.W1O),e.qZA()),2&o){const l=e.MAs(12);e.xp6(6),e.Q6J("searchOptions",n.options),e.xp6(4),e.Q6J("ngIf",n.loading)("ngIfElse",l)}},dependencies:[p.sg,p.O5,N.S,F.i,x.A,I.O,E.LS,s.rH,E._s]}),t})();var w=a(6534);function P(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",38),e._UZ(2,"app-error-occured",39),e.qZA(),e.BQk()),2&t){const o=e.oxw();e.xp6(2),e.Q6J("errorMessage",o.errorMessage)}}function z(t,i){1&t&&(e.TgZ(0,"div",40),e._uU(1," First Name is required. "),e.qZA())}function G(t,i){1&t&&(e.TgZ(0,"div",40),e._uU(1," Last Name is required. "),e.qZA())}function $(t,i){1&t&&(e.TgZ(0,"div",40),e._uU(1," Email is required. "),e.qZA())}function H(t,i){1&t&&(e.TgZ(0,"div",40),e._uU(1," Phone Number is required. "),e.qZA())}function j(t,i){1&t&&(e.TgZ(0,"div",40),e._uU(1," Date of Birth is required. "),e.qZA())}function K(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"ng-option",44),e._uU(2),e.qZA(),e.BQk()),2&t){const o=i.$implicit;e.xp6(1),e.Q6J("value",o.name),e.xp6(1),e.hij(" ",o.name," ")}}function X(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"ng-select",41)(2,"ng-option",42),e._uU(3,"Select Country"),e.qZA(),e.YNc(4,K,3,2,"ng-container",43),e.qZA(),e.BQk()),2&t){const o=e.oxw();e.xp6(4),e.Q6J("ngForOf",o.listCountries)}}function W(t,i){1&t&&(e.TgZ(0,"div",40),e._uU(1," Department is required. "),e.qZA())}function V(t,i){1&t&&(e.TgZ(0,"div",40),e._uU(1," Designation is required. "),e.qZA())}function R(t,i){1&t&&(e.TgZ(0,"div",40),e._uU(1," Hire Date is required. "),e.qZA())}function ee(t,i){1&t&&(e.TgZ(0,"div",40),e._uU(1," Salary is required. "),e.qZA())}function te(t,i){1&t&&(e.TgZ(0,"div",40),e._uU(1," Description is required. "),e.qZA())}function oe(t,i){if(1&t){const o=e.EpF();e.ynx(0),e.TgZ(1,"button",45),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l.deleteEmployee())}),e._uU(2,"Delete Employee"),e.qZA(),e.TgZ(3,"button",46),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l.updateEmployee())}),e._uU(4,"Edit Employee"),e.qZA(),e.BQk()}if(2&t){const o=e.oxw();e.xp6(3),e.Q6J("disabled",o.employeeForm.invalid)}}function ne(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l.addEmployee())}),e._uU(1,"Add Employee"),e.qZA()}if(2&t){const o=e.oxw();e.Q6J("disabled",o.employeeForm.invalid)}}let T=(()=>{class t{constructor(o,n,l,m){this.formBuilder=o,this.router=n,this.employeeService=l,this.route=m,this.title="Add Employee",this.submiting=!1,this.loading=!1,this.listCountries=w.h}ngOnInit(){this.employeeForm=this.formBuilder.group({firstName:["",r.kI.required],lastName:["",r.kI.required],phoneNumber:["",r.kI.required],email:[""],gender:["female"],dateOfBirth:[""],department:[""],designation:[""],hireDate:[""],salary:[""],description:[""],address:this.formBuilder.group({country:[""],zipCode:[""],state:[""],city:[""],street:[""]}),status:["active"]}),this.employeeId=this.route.snapshot.paramMap.get("id"),this.employeeId&&(this.title="Edit Employee",this.getEmployee(this.employeeId))}getEmployee(o){this.loading=!0,this.employeeService.getEmployee(o).subscribe({next:n=>{const l=new Date(n.dateOfBirth).toISOString().substring(0,10);n.dateOfBirth=l;const m=new Date(n.hireDate).toISOString().substring(0,10);n.hireDate=m,this.employeeForm.patchValue(n)},error:n=>{this.errorMessage=n,this.loading=!1},complete:()=>{this.loading=!1}})}addEmployee(){this.employeeForm.valid&&(this.submiting=!0,this.employeeService.createEmployee(this.employeeForm.value).subscribe({next:n=>{this.employeeForm.reset(),this.router.navigate(["/employees"])},error:n=>{this.errorMessage=n,this.submiting=!1},complete:()=>{this.submiting=!1}}))}updateEmployee(){const o=this.employeeForm.value;this.submiting=!0,this.employeeService.updateEmployee(this.employeeId,o).subscribe({next:n=>{this.router.navigate(["/employees"])},error:n=>{this.errorMessage=n,this.submiting=!1},complete:()=>{this.submiting=!1}})}deleteEmployee(){this.submiting=!0,this.employeeService.deleteEmployee(this.employeeId).subscribe({next:o=>{this.router.navigate(["/employees"])},error:o=>{this.errorMessage=o,this.submiting=!1},complete:()=>{this.submiting=!1}})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(r.qu),e.Y36(s.F0),e.Y36(b),e.Y36(s.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-edit-employee"]],decls:113,vars:16,consts:[[4,"ngIf"],[1,"my-4",3,"formGroup"],[1,"d-flex"],[1,"flex-grow-1"],[1,"fw-normal"],["routerLink","/employees",1,"btn","btn-outline-secondary","btn-sm"],[1,"row"],[1,"col-lg-6"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","formControlName","firstName","placeholder","Enter First Name",1,"form-control"],["class","sul-error",4,"ngIf"],["type","text","id","title","formControlName","lastName","placeholder","Enter Last Name",1,"form-control"],["type","email","id","title","formControlName","email","placeholder","Enter Email",1,"form-control"],["type","text","id","title","formControlName","phoneNumber","placeholder","Enter Phone Number",1,"form-control"],["for","dateOfBirth",1,"form-label"],["type","date","id","dateOfBirth","formControlName","dateOfBirth",1,"form-control"],["aria-label","Default select example","formControlName","gender",1,"form-select"],["value","male"],["value","female"],["formGroupName","address",1,"card","p-3","mb-3"],["for","country",1,"form-label"],["for","zipCode",1,"form-label"],["type","text","id","zipCode","formControlName","zipCode","placeholder","Enter Zip Code",1,"form-control"],["for","state",1,"form-label"],["type","text","id","state","formControlName","state","placeholder","Enter State",1,"form-control"],["for","city",1,"form-label"],["type","text","id","city","formControlName","city","placeholder","Enter City",1,"form-control"],["for","street",1,"form-label"],["type","text","id","street","formControlName","street","placeholder","Enter Street",1,"form-control"],["type","text","id","title","formControlName","department","placeholder","Enter Department",1,"form-control"],["type","text","id","title","formControlName","designation","placeholder","Enter Designation",1,"form-control"],["type","date","id","title","formControlName","hireDate",1,"form-control"],["type","number","id","title","formControlName","salary","placeholder","Enter Salary",1,"form-control"],["for","description",1,"form-label"],["id","description","formControlName","description","placeholder","Enter Description",1,"form-control"],[4,"ngIf","ngIfElse"],["adding",""],[1,"py-3"],[3,"errorMessage"],[1,"sul-error"],["formControlName","country","id","country"],["value","","disabled",""],[4,"ngFor","ngForOf"],[3,"value"],["type","submit",1,"btn","btn-danger","btn-sm","me-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["type","submit",1,"btn","btn-success","btn-sm",3,"disabled","click"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,P,3,1,"ng-container",0),e.TgZ(2,"form",1)(3,"div",2)(4,"div",3)(5,"h2",4),e._uU(6),e.qZA()(),e.TgZ(7,"div")(8,"button",5),e._uU(9," List Employees"),e.qZA()()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),e._uU(14,"First Name"),e.qZA(),e._UZ(15,"input",10),e.YNc(16,z,2,0,"div",11),e.qZA()(),e.TgZ(17,"div",7)(18,"div",8)(19,"label",9),e._uU(20,"Last Name"),e.qZA(),e._UZ(21,"input",12),e.YNc(22,G,2,0,"div",11),e.qZA()()(),e.TgZ(23,"div",6)(24,"div",7)(25,"div",8)(26,"label",9),e._uU(27,"Email"),e.qZA(),e._UZ(28,"input",13),e.YNc(29,$,2,0,"div",11),e.qZA()(),e.TgZ(30,"div",7)(31,"div",8)(32,"label",9),e._uU(33,"Phone Number"),e.qZA(),e._UZ(34,"input",14),e.YNc(35,H,2,0,"div",11),e.qZA()()(),e.TgZ(36,"div",6)(37,"div",7)(38,"div",8)(39,"label",15),e._uU(40,"Date of Birth"),e.qZA(),e._UZ(41,"input",16),e.YNc(42,j,2,0,"div",11),e.qZA()(),e.TgZ(43,"div",7)(44,"div",8)(45,"label",9),e._uU(46,"Select Gender"),e.qZA(),e.TgZ(47,"select",17)(48,"option",18),e._uU(49,"Male"),e.qZA(),e.TgZ(50,"option",19),e._uU(51,"Female"),e.qZA()()()()(),e.TgZ(52,"div",20)(53,"div",8)(54,"label",21),e._uU(55,"Country"),e.qZA(),e.YNc(56,X,5,1,"ng-container",0),e.qZA(),e.TgZ(57,"div",6)(58,"div",7)(59,"div",8)(60,"label",22),e._uU(61,"Zip Code"),e.qZA(),e._UZ(62,"input",23),e.qZA()(),e.TgZ(63,"div",7)(64,"div",8)(65,"label",24),e._uU(66,"State"),e.qZA(),e._UZ(67,"input",25),e.qZA()()(),e.TgZ(68,"div",6)(69,"div",7)(70,"div",8)(71,"label",26),e._uU(72,"City"),e.qZA(),e._UZ(73,"input",27),e.qZA()(),e.TgZ(74,"div",7)(75,"div",8)(76,"label",28),e._uU(77,"Street"),e.qZA(),e._UZ(78,"input",29),e.qZA()()()(),e.TgZ(79,"div",6)(80,"div",7)(81,"div",8)(82,"label",9),e._uU(83,"Department"),e.qZA(),e._UZ(84,"input",30),e.YNc(85,W,2,0,"div",11),e.qZA()(),e.TgZ(86,"div",7)(87,"div",8)(88,"label",9),e._uU(89,"Designation"),e.qZA(),e._UZ(90,"input",31),e.YNc(91,V,2,0,"div",11),e.qZA()()(),e.TgZ(92,"div",6)(93,"div",7)(94,"div",8)(95,"label",9),e._uU(96,"Hire Date"),e.qZA(),e._UZ(97,"input",32),e.YNc(98,R,2,0,"div",11),e.qZA()(),e.TgZ(99,"div",7)(100,"div",8)(101,"label",9),e._uU(102,"Salary"),e.qZA(),e._UZ(103,"input",33),e.YNc(104,ee,2,0,"div",11),e.qZA()()(),e.TgZ(105,"div",8)(106,"label",34),e._uU(107,"Description"),e.qZA(),e._UZ(108,"textarea",35),e.YNc(109,te,2,0,"div",11),e.qZA(),e.YNc(110,oe,5,1,"ng-container",36),e.YNc(111,ne,2,1,"ng-template",null,37,e.W1O),e.qZA()()),2&o){const l=e.MAs(112);let m,d,u,c,g,_,y,f,h,Z;e.xp6(1),e.Q6J("ngIf",n.errorMessage),e.xp6(1),e.Q6J("formGroup",n.employeeForm),e.xp6(4),e.Oqu(n.title),e.xp6(10),e.Q6J("ngIf",(null==(m=n.employeeForm.get("firstName"))?null:m.invalid)&&(null==(m=n.employeeForm.get("firstName"))?null:m.touched)),e.xp6(6),e.Q6J("ngIf",(null==(d=n.employeeForm.get("lastName"))?null:d.invalid)&&(null==(d=n.employeeForm.get("lastName"))?null:d.touched)),e.xp6(7),e.Q6J("ngIf",(null==(u=n.employeeForm.get("email"))?null:u.invalid)&&(null==(u=n.employeeForm.get("email"))?null:u.touched)),e.xp6(6),e.Q6J("ngIf",(null==(c=n.employeeForm.get("phoneNumber"))?null:c.invalid)&&(null==(c=n.employeeForm.get("phoneNumber"))?null:c.touched)),e.xp6(7),e.Q6J("ngIf",(null==(g=n.employeeForm.get("dateOfBirth"))?null:g.invalid)&&(null==(g=n.employeeForm.get("dateOfBirth"))?null:g.touched)),e.xp6(14),e.Q6J("ngIf",n.listCountries),e.xp6(29),e.Q6J("ngIf",(null==(_=n.employeeForm.get("department"))?null:_.invalid)&&(null==(_=n.employeeForm.get("department"))?null:_.touched)),e.xp6(6),e.Q6J("ngIf",(null==(y=n.employeeForm.get("designation"))?null:y.invalid)&&(null==(y=n.employeeForm.get("designation"))?null:y.touched)),e.xp6(7),e.Q6J("ngIf",(null==(f=n.employeeForm.get("hireDate"))?null:f.invalid)&&(null==(f=n.employeeForm.get("hireDate"))?null:f.touched)),e.xp6(6),e.Q6J("ngIf",(null==(h=n.employeeForm.get("salary"))?null:h.invalid)&&(null==(h=n.employeeForm.get("salary"))?null:h.touched)),e.xp6(5),e.Q6J("ngIf",(null==(Z=n.employeeForm.get("description"))?null:Z.invalid)&&(null==(Z=n.employeeForm.get("description"))?null:Z.touched)),e.xp6(1),e.Q6J("ngIf",n.employeeId)("ngIfElse",l)}},dependencies:[p.sg,p.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u,r.x0,x.A,v.w9,v.jq,s.rH]}),t})();const ie=[{path:"",component:k},{path:"add",component:T},{path:"edit/:id",component:T},{path:"view/:id",component:(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-details-employee"]],decls:2,vars:0,template:function(o,n){1&o&&(e.TgZ(0,"p"),e._uU(1,"details-employee works!"),e.qZA())}}),t})()},{path:"**",redirectTo:"",pathMatch:"full"}];let le=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,r.u5,r.UX,C.C,E.JX,v.A0,s.Bz.forChild(ie)]}),t})()}}]);