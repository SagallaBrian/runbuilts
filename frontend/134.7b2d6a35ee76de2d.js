"use strict";(self.webpackChunksuluhi_admin_frontend=self.webpackChunksuluhi_admin_frontend||[]).push([[134],{4134:(C,k,a)=>{a.r(k),a.d(k,{TasksModule:()=>F});var u=a(6895),d=a(1387),t=a(8256),T=a(2340),f=a(529);let p=(()=>{class s{constructor(e){this.http=e,this.taskurl=`${T.N.apiUrl}tasks`}createTask(e){return this.http.post(this.taskurl,e)}getTask(e){return this.http.get(`${this.taskurl}/${e}`)}updateTask(e,o){return this.http.put(`${this.taskurl}/${e}`,o)}deleteTask(e){return this.http.delete(`${this.taskurl}/${e}`)}getAllTasks(){return this.http.get(this.taskurl)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(f.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const h=function(s){return["edit",s]};function g(s,n){if(1&s&&(t.ynx(0),t.TgZ(1,"tr",6)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()(),t.BQk()),2&s){const e=n.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(3,h,e._id)),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.description)}}let b=(()=>{class s{constructor(e){this.taskService=e}ngOnInit(){this.loadTasks()}loadTasks(){this.taskService.getAllTasks().subscribe({next:e=>{console.log(e),this.tasks=e},error:e=>{console.error("Failed to Add task",e)}})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(p))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-list-tasks"]],decls:17,vars:1,consts:[[1,"py-4"],[1,"d-flex"],[1,"flex-grow-1"],["routerLink","/tasks/add",1,"btn","btn-secondary","btn-sm"],[1,"table","table-bordered","table-striped"],[4,"ngFor","ngForOf"],[1,"cursor-pointer",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"Tasks"),t.qZA()(),t.TgZ(5,"div")(6,"button",3),t._uU(7," Add Task"),t.qZA()()(),t.TgZ(8,"table",4)(9,"thead")(10,"tr")(11,"th"),t._uU(12,"Title"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Description"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,g,6,5,"ng-container",5),t.qZA()()()),2&e&&(t.xp6(16),t.Q6J("ngForOf",o.tasks))},dependencies:[u.sg,d.rH]}),s})();var i=a(433);function _(s,n){1&s&&(t.TgZ(0,"div",19),t._uU(1," Title is required. "),t.qZA())}function v(s,n){1&s&&(t.TgZ(0,"div",19),t._uU(1," Description is required. "),t.qZA())}function Z(s,n){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",20),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.deleteTask())}),t._uU(2,"Delete Task"),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.updateTask())}),t._uU(4,"Edit Task"),t.qZA(),t.BQk()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.taskForm.invalid),t.xp6(2),t.Q6J("disabled",e.taskForm.invalid)}}function A(s,n){if(1&s){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.addTask())}),t._uU(1,"Add Task"),t.qZA()}if(2&s){const e=t.oxw();t.Q6J("disabled",e.taskForm.invalid)}}let m=(()=>{class s{constructor(e,o,r,l){this.formBuilder=e,this.router=o,this.taskService=r,this.route=l,this.title="Add Task"}ngOnInit(){this.taskForm=this.formBuilder.group({title:["",i.kI.required],description:["",i.kI.required],goal:[""],project:[""],completed:[!1]}),this.taskId=this.route.snapshot.paramMap.get("id"),this.taskId&&(this.title="Edit Task",this.getTask(this.taskId))}addTask(){this.taskForm.valid&&this.taskService.createTask(this.taskForm.value).subscribe({next:o=>{console.log(o),this.taskForm.reset(),this.router.navigate(["/tasks"])},error:o=>{console.error("Failed to Add task",o)}})}getTask(e){this.taskService.getTask(e).subscribe({next:o=>{this.taskForm.patchValue(o)},error:o=>{console.error("Failed to Add task",o)}})}updateTask(){this.taskService.updateTask(this.taskId,this.taskForm.value).subscribe({next:o=>{console.log(o),this.router.navigate(["/tasks"])},error:o=>{console.error("Failed to Edit task",o)}})}deleteTask(){this.taskService.deleteTask(this.taskId).subscribe({next:e=>{console.log(e),this.router.navigate(["/tasks"])},error:e=>{console.error("Failed to Delete task",e)}})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(i.qu),t.Y36(d.F0),t.Y36(p),t.Y36(d.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-add-edit-tasks"]],decls:34,vars:6,consts:[[1,"my-4",3,"formGroup"],[1,"d-flex"],[1,"flex-grow-1"],["routerLink","/tasks",1,"btn","btn-secondary","btn-sm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","formControlName","title",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","description",1,"form-label"],["id","description","formControlName","description",1,"form-control"],["for","goal",1,"form-label"],["type","text","id","goal","formControlName","goal",1,"form-control"],["for","project",1,"form-label"],["type","text","id","project","formControlName","project",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","completed","formControlName","completed",1,"form-check-input"],["for","completed",1,"form-check-label"],[4,"ngIf","ngIfElse"],["addTasking",""],[1,"invalid-feedback"],["type","submit",1,"btn","btn-danger","btn-sm","me-2",3,"disabled","click"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["type","submit",1,"btn","btn-success","btn-sm",3,"disabled","click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div")(1,"form",0)(2,"div",1)(3,"div",2)(4,"h2"),t._uU(5),t.qZA()(),t.TgZ(6,"div")(7,"button",3),t._uU(8," List Tasks"),t.qZA()()(),t.TgZ(9,"div",4)(10,"label",5),t._uU(11,"Title"),t.qZA(),t._UZ(12,"input",6),t.YNc(13,_,2,0,"div",7),t.qZA(),t.TgZ(14,"div",4)(15,"label",8),t._uU(16,"Description"),t.qZA(),t._UZ(17,"textarea",9),t.YNc(18,v,2,0,"div",7),t.qZA(),t.TgZ(19,"div",4)(20,"label",10),t._uU(21,"Goal"),t.qZA(),t._UZ(22,"input",11),t.qZA(),t.TgZ(23,"div",4)(24,"label",12),t._uU(25,"Project"),t.qZA(),t._UZ(26,"input",13),t.qZA(),t.TgZ(27,"div",14),t._UZ(28,"input",15),t.TgZ(29,"label",16),t._uU(30,"Completed"),t.qZA()(),t.YNc(31,Z,5,2,"ng-container",17),t.YNc(32,A,2,1,"ng-template",null,18,t.W1O),t.qZA()()),2&e){const r=t.MAs(33);let l,c;t.xp6(1),t.Q6J("formGroup",o.taskForm),t.xp6(4),t.Oqu(o.title),t.xp6(8),t.Q6J("ngIf",(null==(l=o.taskForm.get("title"))?null:l.invalid)&&(null==(l=o.taskForm.get("title"))?null:l.touched)),t.xp6(5),t.Q6J("ngIf",(null==(c=o.taskForm.get("description"))?null:c.invalid)&&(null==(c=o.taskForm.get("description"))?null:c.touched)),t.xp6(13),t.Q6J("ngIf",o.taskId)("ngIfElse",r)}},dependencies:[u.O5,i._Y,i.Fj,i.Wl,i.JJ,i.JL,i.sg,i.u,d.rH]}),s})();const x=[{path:"",component:b},{path:"add",component:m},{path:"edit/:id",component:m},{path:"**",redirectTo:"",pathMatch:"full"}];let F=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[u.ez,i.u5,i.UX,d.Bz.forChild(x)]}),s})()}}]);