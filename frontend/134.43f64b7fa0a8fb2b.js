"use strict";(self.webpackChunksuluhi_admin_frontend=self.webpackChunksuluhi_admin_frontend||[]).push([[134],{4134:(Y,u,i)=>{i.r(u),i.d(u,{TasksModule:()=>Q});var c=i(6895),d=i(8869),t=i(4650),g=i(2340),_=i(529);let m=(()=>{class s{constructor(e){this.http=e,this.taskurl=`${g.N.apiUrl}tasks`}createTask(e){return this.http.post(this.taskurl,e)}getTask(e){return this.http.get(`${this.taskurl}/${e}`)}updateTask(e,n){return this.http.put(`${this.taskurl}/${e}`,n)}deleteTask(e){return this.http.delete(`${this.taskurl}/${e}`)}getAllTasks(){return this.http.get(this.taskurl)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(_.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var f=i(7997),T=i(5511),h=i(8057);function Z(s,o){1&s&&(t.ynx(0),t.TgZ(1,"div",6),t._UZ(2,"app-sul-loader"),t.qZA(),t.BQk())}function v(s,o){if(1&s&&(t.ynx(0),t.TgZ(1,"div",6),t._UZ(2,"app-error-occured",8),t.qZA(),t.BQk()),2&s){const e=t.oxw(2);t.xp6(2),t.Q6J("errorMessage",e.errorMessage)}}const b=function(s){return["edit",s]};function x(s,o){if(1&s&&(t.ynx(0),t.TgZ(1,"tr",12)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA()(),t.BQk()),2&s){const e=o.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(4,b,e._id)),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.completed?"Yes":"No")}}function A(s,o){if(1&s&&(t.ynx(0),t.TgZ(1,"table",10)(2,"thead")(3,"tr")(4,"th"),t._uU(5,"Title"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Description"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Completed"),t.qZA()()(),t.TgZ(10,"tbody"),t.YNc(11,x,8,6,"ng-container",11),t.qZA()(),t.BQk()),2&s){const e=t.oxw(3);t.xp6(11),t.Q6J("ngForOf",e.tasks)}}function C(s,o){1&s&&t._UZ(0,"app-no-data-found",13),2&s&&t.Q6J("dataLabel","Task")}function F(s,o){if(1&s&&(t.YNc(0,A,12,1,"ng-container",4),t.YNc(1,C,1,1,"ng-template",null,9,t.W1O)),2&s){const e=t.MAs(2),n=t.oxw(2);t.Q6J("ngIf",n.tasks&&n.tasks.length)("ngIfElse",e)}}function U(s,o){if(1&s&&(t.YNc(0,v,3,1,"ng-container",4),t.YNc(1,F,3,2,"ng-template",null,7,t.W1O)),2&s){const e=t.MAs(2),n=t.oxw();t.Q6J("ngIf",n.errorMessage)("ngIfElse",e)}}let q=(()=>{class s{constructor(e){this.taskService=e,this.loading=!0}ngOnInit(){this.loadTasks()}loadTasks(){this.taskService.getAllTasks().subscribe({next:e=>{this.tasks=e},error:e=>{this.errorMessage=e,this.loading=!1},complete:()=>{this.loading=!1}})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(m))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-list-tasks"]],decls:11,vars:2,consts:[[1,"py-4"],[1,"d-flex"],[1,"flex-grow-1"],["routerLink","/tasks/add",1,"btn","btn-secondary","btn-sm"],[4,"ngIf","ngIfElse"],["loadedContent",""],[1,"py-3"],["noError",""],[3,"errorMessage"],["nodata",""],[1,"table","table-bordered","table-striped"],[4,"ngFor","ngForOf"],[1,"cursor-pointer",3,"routerLink"],[3,"dataLabel"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"Tasks"),t.qZA()(),t.TgZ(5,"div")(6,"button",3),t._uU(7," Add Task"),t.qZA()()(),t.YNc(8,Z,3,0,"ng-container",4),t.YNc(9,U,3,2,"ng-template",null,5,t.W1O),t.qZA()),2&e){const a=t.MAs(10);t.xp6(8),t.Q6J("ngIf",n.loading)("ngIfElse",a)}},dependencies:[c.sg,c.O5,f.S,T.i,h.A,d.rH]}),s})();var r=i(4006);function y(s,o){1&s&&(t.TgZ(0,"div",19),t._uU(1," Title is required. "),t.qZA())}function I(s,o){1&s&&(t.TgZ(0,"div",19),t._uU(1," Description is required. "),t.qZA())}function E(s,o){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",20),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.deleteTask())}),t._uU(2,"Delete Task"),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.updateTask())}),t._uU(4,"Edit Task"),t.qZA(),t.BQk()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.taskForm.invalid),t.xp6(2),t.Q6J("disabled",e.taskForm.invalid)}}function N(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.addTask())}),t._uU(1,"Add Task"),t.qZA()}if(2&s){const e=t.oxw();t.Q6J("disabled",e.taskForm.invalid)}}let k=(()=>{class s{constructor(e,n,a,l){this.formBuilder=e,this.router=n,this.taskService=a,this.route=l,this.title="Add Task"}ngOnInit(){this.taskForm=this.formBuilder.group({title:["",r.kI.required],description:["",r.kI.required],goal:[""],project:[""],completed:[!1]}),this.taskId=this.route.snapshot.paramMap.get("id"),this.taskId&&(this.title="Edit Task",this.getTask(this.taskId))}addTask(){this.taskForm.valid&&this.taskService.createTask(this.taskForm.value).subscribe({next:n=>{console.log(n),this.taskForm.reset(),this.router.navigate(["/tasks"])},error:n=>{console.error("Failed to Add task",n)}})}getTask(e){this.taskService.getTask(e).subscribe({next:n=>{this.taskForm.patchValue(n)},error:n=>{console.error("Failed to Add task",n)}})}updateTask(){this.taskService.updateTask(this.taskId,this.taskForm.value).subscribe({next:n=>{console.log(n),this.router.navigate(["/tasks"])},error:n=>{console.error("Failed to Edit task",n)}})}deleteTask(){this.taskService.deleteTask(this.taskId).subscribe({next:e=>{console.log(e),this.router.navigate(["/tasks"])},error:e=>{console.error("Failed to Delete task",e)}})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(r.qu),t.Y36(d.F0),t.Y36(m),t.Y36(d.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-add-edit-tasks"]],decls:34,vars:6,consts:[[1,"my-4",3,"formGroup"],[1,"d-flex"],[1,"flex-grow-1"],["routerLink","/tasks",1,"btn","btn-secondary","btn-sm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","formControlName","title",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","description",1,"form-label"],["id","description","formControlName","description",1,"form-control"],["for","goal",1,"form-label"],["type","text","id","goal","formControlName","goal",1,"form-control"],["for","project",1,"form-label"],["type","text","id","project","formControlName","project",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","completed","formControlName","completed",1,"form-check-input"],["for","completed",1,"form-check-label"],[4,"ngIf","ngIfElse"],["addTasking",""],[1,"invalid-feedback"],["type","submit",1,"btn","btn-danger","btn-sm","me-2",3,"disabled","click"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["type","submit",1,"btn","btn-success","btn-sm",3,"disabled","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div")(1,"form",0)(2,"div",1)(3,"div",2)(4,"h2"),t._uU(5),t.qZA()(),t.TgZ(6,"div")(7,"button",3),t._uU(8," List Tasks"),t.qZA()()(),t.TgZ(9,"div",4)(10,"label",5),t._uU(11,"Title"),t.qZA(),t._UZ(12,"input",6),t.YNc(13,y,2,0,"div",7),t.qZA(),t.TgZ(14,"div",4)(15,"label",8),t._uU(16,"Description"),t.qZA(),t._UZ(17,"textarea",9),t.YNc(18,I,2,0,"div",7),t.qZA(),t.TgZ(19,"div",4)(20,"label",10),t._uU(21,"Goal"),t.qZA(),t._UZ(22,"input",11),t.qZA(),t.TgZ(23,"div",4)(24,"label",12),t._uU(25,"Project"),t.qZA(),t._UZ(26,"input",13),t.qZA(),t.TgZ(27,"div",14),t._UZ(28,"input",15),t.TgZ(29,"label",16),t._uU(30,"Completed"),t.qZA()(),t.YNc(31,E,5,2,"ng-container",17),t.YNc(32,N,2,1,"ng-template",null,18,t.W1O),t.qZA()()),2&e){const a=t.MAs(33);let l,p;t.xp6(1),t.Q6J("formGroup",n.taskForm),t.xp6(4),t.Oqu(n.title),t.xp6(8),t.Q6J("ngIf",(null==(l=n.taskForm.get("title"))?null:l.invalid)&&(null==(l=n.taskForm.get("title"))?null:l.touched)),t.xp6(5),t.Q6J("ngIf",(null==(p=n.taskForm.get("description"))?null:p.invalid)&&(null==(p=n.taskForm.get("description"))?null:p.touched)),t.xp6(13),t.Q6J("ngIf",n.taskId)("ngIfElse",a)}},dependencies:[c.O5,r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.sg,r.u,d.rH]}),s})();var J=i(1213);const L=[{path:"",component:q},{path:"add",component:k},{path:"edit/:id",component:k},{path:"**",redirectTo:"",pathMatch:"full"}];let Q=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[c.ez,r.u5,r.UX,J.C,d.Bz.forChild(L)]}),s})()}}]);