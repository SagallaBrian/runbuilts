"use strict";(self.webpackChunksuluhi_admin_frontend=self.webpackChunksuluhi_admin_frontend||[]).push([[162],{4162:(X,v,o)=>{o.r(v),o.d(v,{SuppliersModule:()=>W});var u=o(6895),a=o(8869),p=o(4006),Z=o(4333),S=o(1213),e=o(4650),A=o(583),T=o(7997),N=o(5511),b=o(8057),C=o(295);function q(t,r){1&t&&(e.ynx(0),e.TgZ(1,"div",8),e._UZ(2,"app-sul-loader"),e.qZA(),e.BQk())}function y(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",8),e._UZ(2,"app-error-occured",10),e.qZA(),e.BQk()),2&t){const i=e.oxw(2);e.xp6(2),e.Q6J("errorMessage",i.errorMessage)}}const U=function(t){return["edit",t]};function E(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"tr",18)(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td",19),e._uU(7),e.qZA(),e.TgZ(8,"td",19),e._uU(9),e.qZA(),e.TgZ(10,"td",20),e._uU(11),e.qZA(),e.TgZ(12,"td",20),e._uU(13),e.qZA(),e.TgZ(14,"td",20),e._uU(15),e.qZA()(),e.BQk()),2&t){const i=r.$implicit,n=r.index;e.xp6(1),e.Q6J("routerLink",e.VKq(9,U,i._id)),e.xp6(2),e.Oqu(n+1),e.xp6(2),e.AsE("",i.firstName," ",i.lastName,""),e.xp6(2),e.Oqu(i.email),e.xp6(2),e.Oqu(i.phoneNumber),e.xp6(2),e.Oqu(i.companyName),e.xp6(2),e.Oqu(i.department),e.xp6(2),e.Oqu(i.designation)}}const F=function(t,r,i){return{itemsPerPage:t,currentPage:r,totalItems:i}};function I(t,r){if(1&t){const i=e.EpF();e.ynx(0),e.TgZ(1,"div",12)(2,"table",13)(3,"thead")(4,"tr",14)(5,"th"),e._uU(6,"#"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Name"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Email"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Phone Number"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Company"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Department"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Designation"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,E,16,11,"ng-container",15),e.ALo(21,"paginate"),e.qZA()()(),e.TgZ(22,"div",16)(23,"pagination-controls",17),e.NdJ("pageChange",function(l){e.CHM(i);const s=e.oxw(3);return e.KtG(s.onPageChange(l))}),e.qZA()(),e.BQk()}if(2&t){const i=e.oxw(3);e.xp6(20),e.Q6J("ngForOf",e.xi3(21,1,i.suppliers.results,e.kEZ(4,F,i.suppliers.pageSize,i.currentPage,i.suppliers.totalItems)))}}function J(t,r){1&t&&e._UZ(0,"app-no-data-found",21),2&t&&e.Q6J("dataLabel","Supplier")}function Q(t,r){if(1&t&&(e.YNc(0,I,24,8,"ng-container",6),e.YNc(1,J,1,1,"ng-template",null,11,e.W1O)),2&t){const i=e.MAs(2),n=e.oxw(2);e.Q6J("ngIf",n.suppliers&&n.suppliers.results.length)("ngIfElse",i)}}function k(t,r){if(1&t&&(e.YNc(0,y,3,1,"ng-container",6),e.YNc(1,Q,3,2,"ng-template",null,9,e.W1O)),2&t){const i=e.MAs(2),n=e.oxw();e.Q6J("ngIf",n.errorMessage)("ngIfElse",i)}}let L=(()=>{class t{constructor(i){this.clientService=i,this.currentPage=1,this.pageSize=10,this.options=[{name:"Supplier Name",formname:"name",type:"text"},{name:"Company",formname:"companyName",type:"text"},{name:"Designation",formname:"designation",type:"text"}],this.loading=!0}ngOnInit(){this.loadSupplier({type:"supplier"})}loadSupplier(i){this.loading=!0,this.clientService.getAllClientSuppliers(this.currentPage,this.pageSize,i).subscribe({next:n=>{this.suppliers=n},error:n=>{this.errorMessage=n,this.loading=!1},complete:()=>{this.loading=!1}})}onPageChange(i){this.currentPage=i,this.loadSupplier({type:"supplier"})}searchFunction(i){const n={...i,type:"supplier"};this.loadSupplier(n)}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(A.y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-list-suppliers"]],decls:13,vars:4,consts:[[1,"py-4"],[1,"d-flex"],[1,"flex-grow-1"],[1,"text-secondary","fw-normal","mb-1"],[3,"searchlabel","searchOptions","searchEmit"],["routerLink","/stake/suppliers/add",1,"btn","btn-outline-primary","btn-sm"],[4,"ngIf","ngIfElse"],["loadedContent",""],[1,"py-3"],["noError",""],[3,"errorMessage"],["nodata",""],[1,"table-responsive"],[1,"table","table-bordered","table-striped","table-hover"],[1,""],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[1,"my-pagination",3,"pageChange"],[1,"cursor-pointer",3,"routerLink"],[1,"text-nowrap"],[1,"text-capitalize"],[3,"dataLabel"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Suppliers"),e.qZA()(),e.ynx(5),e.TgZ(6,"app-search-tab",4),e.NdJ("searchEmit",function(s){return n.searchFunction(s)}),e.qZA(),e.BQk(),e.TgZ(7,"div")(8,"button",5),e._uU(9," Add Supplier"),e.qZA()()(),e.YNc(10,q,3,0,"ng-container",6),e.YNc(11,k,3,2,"ng-template",null,7,e.W1O),e.qZA()),2&i){const l=e.MAs(12);e.xp6(6),e.Q6J("searchlabel","Search Supplier")("searchOptions",n.options),e.xp6(4),e.Q6J("ngIf",n.loading)("ngIfElse",l)}},dependencies:[u.sg,u.O5,T.S,N.i,b.A,C.O,Z.LS,a.rH,Z._s]}),t})();function M(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"div",22),e._UZ(2,"app-error-occured",23),e.qZA(),e.BQk()),2&t){const i=e.oxw();e.xp6(2),e.Q6J("errorMessage",i.errorMessage)}}function Y(t,r){1&t&&(e.TgZ(0,"div",24),e._uU(1," First Name is required. "),e.qZA())}function O(t,r){1&t&&(e.TgZ(0,"div",24),e._uU(1," Last Name is required. "),e.qZA())}function D(t,r){1&t&&(e.TgZ(0,"div",24),e._uU(1," Email is required. "),e.qZA())}function P(t,r){1&t&&(e.TgZ(0,"div",24),e._uU(1," Phone Number is required. "),e.qZA())}function B(t,r){1&t&&(e.TgZ(0,"div",24),e._uU(1," Company Name is required. "),e.qZA())}function w(t,r){1&t&&(e.TgZ(0,"div",24),e._uU(1," Department is required. "),e.qZA())}function z(t,r){1&t&&(e.TgZ(0,"div",24),e._uU(1," Designation is required. "),e.qZA())}function G(t,r){1&t&&(e.TgZ(0,"div",24),e._uU(1," Description is required. "),e.qZA())}function H(t,r){if(1&t){const i=e.EpF();e.ynx(0),e.TgZ(1,"button",25),e.NdJ("click",function(){e.CHM(i);const l=e.oxw();return e.KtG(l.deleteSupplier())}),e._uU(2,"Delete Supplier"),e.qZA(),e.TgZ(3,"button",26),e.NdJ("click",function(){e.CHM(i);const l=e.oxw();return e.KtG(l.updateSupplier())}),e._uU(4,"Edit Supplier"),e.qZA(),e.BQk()}if(2&t){const i=e.oxw();e.xp6(1),e.Q6J("disabled",i.supplierForm.invalid),e.xp6(2),e.Q6J("disabled",i.supplierForm.invalid)}}function K(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(i);const l=e.oxw();return e.KtG(l.addSupplier())}),e._uU(1,"Add Supplier"),e.qZA()}if(2&t){const i=e.oxw();e.Q6J("disabled",i.supplierForm.invalid)}}let x=(()=>{class t{constructor(i,n,l,s){this.formBuilder=i,this.router=n,this.supplierService=l,this.route=s,this.title="Add Supplier",this.submiting=!1,this.loading=!1}ngOnInit(){this.supplierForm=this.formBuilder.group({firstName:["",p.kI.required],lastName:["",p.kI.required],email:["",p.kI.required],phoneNumber:["",p.kI.required],companyName:["",p.kI.required],department:[""],designation:[""],description:[""],type:["supplier"]}),this.supplierId=this.route.snapshot.paramMap.get("id"),this.supplierId&&(this.title="Edit Supplier",this.getClient(this.supplierId))}getClient(i){this.loading=!0,this.supplierService.getClientSupplier(i).subscribe({next:n=>{this.supplierForm.patchValue(n)},error:n=>{this.errorMessage=n,this.loading=!1},complete:()=>{this.loading=!1}})}addSupplier(){this.supplierForm.valid&&(this.submiting=!0,this.supplierService.createClientSupplier(this.supplierForm.value).subscribe({next:n=>{this.supplierForm.reset(),this.router.navigate(["/stake/suppliers"])},error:n=>{this.errorMessage=n,this.submiting=!1},complete:()=>{this.submiting=!1}}))}updateSupplier(){const i=this.supplierForm.value;this.submiting=!0,this.supplierService.updateClientSupplier(this.supplierId,i).subscribe({next:n=>{this.router.navigate(["/stake/suppliers"])},error:n=>{this.errorMessage=n,this.submiting=!1},complete:()=>{this.submiting=!1}})}deleteSupplier(){this.submiting=!0,this.supplierService.deleteClientSupplier(this.supplierId).subscribe({next:i=>{this.router.navigate(["/stake/suppliers"])},error:i=>{this.errorMessage=i,this.submiting=!1},complete:()=>{this.submiting=!1}})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(p.qu),e.Y36(a.F0),e.Y36(A.y),e.Y36(a.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-edit-suppliers"]],decls:62,vars:13,consts:[[4,"ngIf"],[1,"my-4",3,"formGroup"],[1,"d-flex"],[1,"flex-grow-1"],[1,"fw-normal"],["routerLink","/stake/suppliers",1,"btn","btn-outline-secondary","btn-sm"],[1,"row"],[1,"col-lg-6"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","formControlName","firstName","placeholder","Enter First Name",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["type","text","id","title","formControlName","lastName","placeholder","Enter Last Name",1,"form-control"],["type","email","id","title","formControlName","email","placeholder","Enter Email",1,"form-control"],["type","text","id","title","formControlName","phoneNumber","placeholder","Enter Phone Number",1,"form-control"],["type","text","id","title","formControlName","companyName","placeholder","Enter Company Name",1,"form-control"],["type","text","id","title","formControlName","department","placeholder","Enter Department",1,"form-control"],["type","text","id","title","formControlName","designation","placeholder","Enter Designation",1,"form-control"],["for","description",1,"form-label"],["id","description","formControlName","description","placeholder","Enter Description",1,"form-control"],[4,"ngIf","ngIfElse"],["addTasking",""],[1,"py-3"],[3,"errorMessage"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-danger","btn-sm","me-2",3,"disabled","click"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["type","submit",1,"btn","btn-success","btn-sm",3,"disabled","click"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,M,3,1,"ng-container",0),e.TgZ(2,"form",1)(3,"div",2)(4,"div",3)(5,"h2",4),e._uU(6),e.qZA()(),e.TgZ(7,"div")(8,"button",5),e._uU(9," List Suppliers"),e.qZA()()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),e._uU(14,"First Name"),e.qZA(),e._UZ(15,"input",10),e.YNc(16,Y,2,0,"div",11),e.qZA()(),e.TgZ(17,"div",7)(18,"div",8)(19,"label",9),e._uU(20,"Last Name"),e.qZA(),e._UZ(21,"input",12),e.YNc(22,O,2,0,"div",11),e.qZA()()(),e.TgZ(23,"div",6)(24,"div",7)(25,"div",8)(26,"label",9),e._uU(27,"Email"),e.qZA(),e._UZ(28,"input",13),e.YNc(29,D,2,0,"div",11),e.qZA()(),e.TgZ(30,"div",7)(31,"div",8)(32,"label",9),e._uU(33,"Phone Number"),e.qZA(),e._UZ(34,"input",14),e.YNc(35,P,2,0,"div",11),e.qZA()()(),e.TgZ(36,"div",6)(37,"div",7)(38,"div",8)(39,"label",9),e._uU(40,"Company"),e.qZA(),e._UZ(41,"input",15),e.YNc(42,B,2,0,"div",11),e.qZA()(),e.TgZ(43,"div",7)(44,"div",8)(45,"label",9),e._uU(46,"Department"),e.qZA(),e._UZ(47,"input",16),e.YNc(48,w,2,0,"div",11),e.qZA()()(),e.TgZ(49,"div",8)(50,"label",9),e._uU(51,"Designation"),e.qZA(),e._UZ(52,"input",17),e.YNc(53,z,2,0,"div",11),e.qZA(),e.TgZ(54,"div",8)(55,"label",18),e._uU(56,"Description"),e.qZA(),e._UZ(57,"textarea",19),e.YNc(58,G,2,0,"div",11),e.qZA(),e.YNc(59,H,5,2,"ng-container",20),e.YNc(60,K,2,1,"ng-template",null,21,e.W1O),e.qZA()()),2&i){const l=e.MAs(61);let s,d,m,c,g,_,f,h;e.xp6(1),e.Q6J("ngIf",n.errorMessage),e.xp6(1),e.Q6J("formGroup",n.supplierForm),e.xp6(4),e.Oqu(n.title),e.xp6(10),e.Q6J("ngIf",(null==(s=n.supplierForm.get("firstName"))?null:s.invalid)&&(null==(s=n.supplierForm.get("firstName"))?null:s.touched)),e.xp6(6),e.Q6J("ngIf",(null==(d=n.supplierForm.get("lastName"))?null:d.invalid)&&(null==(d=n.supplierForm.get("lastName"))?null:d.touched)),e.xp6(7),e.Q6J("ngIf",(null==(m=n.supplierForm.get("email"))?null:m.invalid)&&(null==(m=n.supplierForm.get("email"))?null:m.touched)),e.xp6(6),e.Q6J("ngIf",(null==(c=n.supplierForm.get("phoneNumber"))?null:c.invalid)&&(null==(c=n.supplierForm.get("phoneNumber"))?null:c.touched)),e.xp6(7),e.Q6J("ngIf",(null==(g=n.supplierForm.get("companyName"))?null:g.invalid)&&(null==(g=n.supplierForm.get("companyName"))?null:g.touched)),e.xp6(6),e.Q6J("ngIf",(null==(_=n.supplierForm.get("department"))?null:_.invalid)&&(null==(_=n.supplierForm.get("department"))?null:_.touched)),e.xp6(5),e.Q6J("ngIf",(null==(f=n.supplierForm.get("designation"))?null:f.invalid)&&(null==(f=n.supplierForm.get("designation"))?null:f.touched)),e.xp6(5),e.Q6J("ngIf",(null==(h=n.supplierForm.get("description"))?null:h.invalid)&&(null==(h=n.supplierForm.get("description"))?null:h.touched)),e.xp6(1),e.Q6J("ngIf",n.supplierId)("ngIfElse",l)}},dependencies:[u.O5,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,b.A,a.rH]}),t})();const j=[{path:"",component:L},{path:"add",component:x},{path:"edit/:id",component:x}];let W=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,p.u5,p.UX,S.C,Z.JX,a.Bz.forChild(j)]}),t})()}}]);