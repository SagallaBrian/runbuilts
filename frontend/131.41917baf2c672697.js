"use strict";(self.webpackChunksuluhi_admin_frontend=self.webpackChunksuluhi_admin_frontend||[]).push([[131],{2131:(g,d,s)=>{s.r(d),s.d(d,{AuthModule:()=>y});var a=s(6895),m=s(6354),r=s(4006),e=s(4650),c=s(7556),l=s(8057);function u(o,b){if(1&o&&(e.ynx(0),e._UZ(1,"app-error-occured",10),e.BQk()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("errorMessage",i.errormessage)}}let p=(()=>{class o{constructor(i,t,n){this.formBuilder=i,this.router=t,this.authService=n,this.loading=!1}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[r.kI.required,r.kI.email]],password:["",r.kI.required]})}login(){if(this.loginForm.valid){const i=this.loginForm.value;this.loading=!0,this.authService.login(i).subscribe({next:t=>{this.loginForm.reset(),this.authService.setAuthToken(t.token),this.authService.setUserInfo(t.user),this.router.navigate(["/dashboard"])},error:t=>{this.errormessage=t,this.loading=!1},complete:()=>{this.loading=!1}})}}static#e=this.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(m.F0),e.Y36(c.e))};static#r=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:15,vars:4,consts:[[1,"card-body"],[1,"fw-normal","text-primary"],[4,"ngIf"],[3,"formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control","form-control-smsmsm"],["for","password",1,"form-label","mb-1"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control","form-control-ssssm"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[3,"errorMessage"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Login"),e.qZA(),e.YNc(3,u,2,1,"ng-container",2),e.TgZ(4,"form",3)(5,"div",4)(6,"label",5),e._uU(7,"Email"),e.qZA(),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",4)(10,"label",7),e._uU(11,"Password"),e.qZA(),e._UZ(12,"input",8),e.qZA(),e.TgZ(13,"button",9),e.NdJ("click",function(){return n.login()}),e._uU(14),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",n.errormessage),e.xp6(1),e.Q6J("formGroup",n.loginForm),e.xp6(9),e.Q6J("disabled",n.loginForm.invalid||n.loading),e.xp6(1),e.Oqu(n.loading?"Loading...":"Login"))},dependencies:[a.O5,r._Y,r.Fj,r.JJ,r.JL,l.A,r.sg,r.u],styles:["input[_ngcontent-%COMP%]{font-size:small}a[_ngcontent-%COMP%]{text-decoration:none}"]})}return o})();function f(o,b){if(1&o&&(e.ynx(0),e._UZ(1,"app-error-occured",18),e.BQk()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("errorMessage",i.errormessage)}}let h=(()=>{class o{constructor(i,t,n){this.formBuilder=i,this.router=t,this.authService=n,this.loading=!1}ngOnInit(){this.registerForm=this.formBuilder.group({firstName:["",[r.kI.required,r.kI.minLength(2),r.kI.maxLength(20)]],lastName:["",[r.kI.required,r.kI.minLength(2),r.kI.maxLength(20)]],phone:[""],email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.minLength(8)]]})}register(){if(this.registerForm.valid){const i=this.registerForm.value;this.loading=!0,this.authService.register(i).subscribe({next:t=>{this.registerForm.reset(),this.router.navigate(["/auth/login"])},error:t=>{console.error("Failed to Add User",t),this.errormessage=t,this.loading=!1},complete:()=>{this.loading=!1}})}}static#e=this.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(m.F0),e.Y36(c.e))};static#r=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-register"]],decls:31,vars:4,consts:[[1,"card-body"],[1,"fw-normal","text-primary"],[4,"ngIf"],[3,"formGroup"],[1,"mb-3"],["for","firstName",1,"form-label"],["type","text","id","firstName","formControlName","firstName","placeholder","Enter your first name",1,"form-control"],["for","lastName",1,"form-label"],["type","text","id","lastName","formControlName","lastName","placeholder","Enter your last name",1,"form-control"],["for","phone",1,"form-label"],["type","text","id","phone","formControlName","phone","placeholder","Enter your phone number",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"my-3","text-center"],["routerLink","/auth/login"],[3,"errorMessage"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Register"),e.qZA(),e.YNc(3,f,2,1,"ng-container",2),e.TgZ(4,"form",3)(5,"div",4)(6,"label",5),e._uU(7,"First Name"),e.qZA(),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",4)(10,"label",7),e._uU(11,"Last Name"),e.qZA(),e._UZ(12,"input",8),e.qZA(),e.TgZ(13,"div",4)(14,"label",9),e._uU(15,"Phone"),e.qZA(),e._UZ(16,"input",10),e.qZA(),e.TgZ(17,"div",4)(18,"label",11),e._uU(19,"Email"),e.qZA(),e._UZ(20,"input",12),e.qZA(),e.TgZ(21,"div",4)(22,"label",13),e._uU(23,"Password"),e.qZA(),e._UZ(24,"input",14),e.qZA(),e.TgZ(25,"button",15),e.NdJ("click",function(){return n.register()}),e._uU(26),e.qZA(),e.TgZ(27,"div",16),e._uU(28," Already have an Account? "),e.TgZ(29,"a",17),e._uU(30," Sign In"),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",n.errormessage),e.xp6(1),e.Q6J("formGroup",n.registerForm),e.xp6(21),e.Q6J("disabled",n.registerForm.invalid||n.loading),e.xp6(1),e.Oqu(n.loading?"Loading...":"Register"))},dependencies:[a.O5,r._Y,r.Fj,r.JJ,r.JL,l.A,r.sg,r.u,m.rH],styles:["input[_ngcontent-%COMP%]{font-size:small}a[_ngcontent-%COMP%]{text-decoration:none}"]})}return o})();var Z=s(1213);const v=[{path:"login",component:p},{path:"register",component:h},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login",pathMatch:"full"}];let y=(()=>{class o{static#e=this.\u0275fac=function(t){return new(t||o)};static#r=this.\u0275mod=e.oAB({type:o});static#t=this.\u0275inj=e.cJS({imports:[a.ez,r.u5,Z.C,r.UX,m.Bz.forChild(v)]})}return o})()},8057:(g,d,s)=>{s.d(d,{A:()=>m});var a=s(4650);let m=(()=>{class r{ngOnInit(){this.errorMessage?.error?.message&&(this.errormes=this.errorMessage.error.message)}static#e=this.\u0275fac=function(l){return new(l||r)};static#r=this.\u0275cmp=a.Xpm({type:r,selectors:[["app-error-occured"]],inputs:{errorMessage:"errorMessage"},decls:4,vars:1,consts:[[1,"py-2"],["role","alert",1,"alert","alert-danger"],[1,"d-flex","align-items-center"]],template:function(l,u){1&l&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a._uU(3),a.qZA()()()),2&l&&(a.xp6(3),a.hij(" ",u.errormes?u.errormes:u.errorMessage.message," "))}})}return r})()}}]);