"use strict";(self.webpackChunkbiz_ke_frontend=self.webpackChunkbiz_ke_frontend||[]).push([[592],{7347:(g,d,r)=>{r.d(d,{I:()=>u});var t=r(2340),c=r(5e3),a=r(520);let u=(()=>{class o{constructor(n){this._http=n}addPayInvoice(n){return this._http.post(t.N.apiUrl+"payinvoice/",n)}updatPayInvoice(n,m){return this._http.put(t.N.apiUrl+"payinvoice/"+m,n)}delPayInvoice(n){return this._http.delete(t.N.apiUrl+"payinvoice/"+n)}getPayInvoice(n){return this._http.get(t.N.apiUrl+"payinvoice/"+n)}getPayInvoices(n){return this._http.get(t.N.apiUrl+"payinvoice/",{params:n})}getInvoices(n){return this._http.get(t.N.apiUrl+"invoice/",{params:n})}getClients(n){return this._http.get(t.N.apiUrl+"clients/",{params:n})}getProducts(n){return this._http.get(t.N.apiUrl+"product/",{params:n})}}return o.\u0275fac=function(n){return new(n||o)(c.LFG(a.eN))},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},4969:(g,d,r)=>{r.d(d,{g:()=>u});var t=r(2340),c=r(5e3),a=r(520);let u=(()=>{class o{constructor(n){this.http=n}changePassword(n){return this.http.post(t.N.apiUrl+"auth/profile/",n)}updateProfile(n){return this.http.put(t.N.apiUrl+"auth/profile/",n)}}return o.\u0275fac=function(n){return new(n||o)(c.LFG(a.eN))},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},5876:(g,d,r)=>{r.d(d,{P:()=>T});var t=r(5e3),c=r(9808),a=r(6186),u=r(2818);const o=["printsection"];function s(i,p){1&i&&(t.TgZ(0,"div",38),t._UZ(1,"img",39),t.qZA())}function n(i,p){1&i&&(t.TgZ(0,"div",38),t._UZ(1,"img",40),t.qZA())}function m(i,p){1&i&&(t.TgZ(0,"div",38),t._UZ(1,"img",41),t.qZA())}function h(i,p){if(1&i&&(t.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"h1",36),t._uU(4),t.qZA()(),t.YNc(5,s,2,0,"div",37),t.YNc(6,n,2,0,"div",37),t.YNc(7,m,2,0,"div",37),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(e.labeldata),t.xp6(1),t.Q6J("ngIf",e.status&&1==e.status.value),t.xp6(1),t.Q6J("ngIf",e.status&&2==e.status.value),t.xp6(1),t.Q6J("ngIf",e.status&&4==e.status.value)}}function f(i,p){if(1&i&&(t.TgZ(0,"h1",36),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.labeldata," ")}}function v(i,p){if(1&i&&(t.TgZ(0,"h6",12),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" CODE # ",e.tabledata[0].transactioncode," ")}}function b(i,p){if(1&i&&(t.TgZ(0,"h6",12),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" CHEQUE # ",e.tabledata[0].transactioncode," ")}}function Z(i,p){if(1&i&&(t.TgZ(0,"tr",42)(1,"td",43),t._uU(2),t.qZA(),t.TgZ(3,"td",43),t._uU(4),t.qZA(),t.TgZ(5,"td",43),t._uU(6),t.qZA(),t.TgZ(7,"td",27),t._uU(8),t.ALo(9,"number"),t.qZA(),t.TgZ(10,"td",27),t._uU(11),t.ALo(12,"number"),t.qZA()()),2&i){const e=p.$implicit,l=p.index;t.xp6(2),t.Oqu(l+1),t.xp6(2),t.HOy("",e.categoryname," ",e.brand," ",e.prdtype," ",e.calibration," "),t.xp6(2),t.Oqu(e.noitems),t.xp6(2),t.Oqu(t.xi3(9,8,e.totalamount/e.noitems,"1.2-2")),t.xp6(3),t.Oqu(t.xi3(12,11,e.totalamount,"1.2-2"))}}function U(i,p){if(1&i&&(t.ynx(0),t.TgZ(1,"div",2,3)(3,"div",4),t.YNc(4,h,8,4,"div",5),t.TgZ(5,"div",6),t.YNc(6,f,2,1,"h1",7),t.TgZ(7,"p",8),t._uU(8),t._UZ(9,"br"),t._uU(10),t._UZ(11,"br"),t._uU(12),t._UZ(13,"br"),t._uU(14),t._UZ(15,"br"),t._uU(16),t.qZA()(),t.TgZ(17,"div",9),t._UZ(18,"img",10),t.TgZ(19,"h5",11),t._uU(20),t.ALo(21,"date"),t.qZA(),t.TgZ(22,"h6",12),t._uU(23),t.ALo(24,"number"),t.qZA(),t.TgZ(25,"h6",12),t._uU(26),t.ALo(27,"modeofpay"),t.qZA(),t.YNc(28,v,2,1,"h6",13),t.YNc(29,b,2,1,"h6",13),t.qZA()(),t.TgZ(30,"div",14)(31,"div",15)(32,"h3",16),t._uU(33,"BILL TO"),t.qZA(),t._UZ(34,"div",17),t.TgZ(35,"p",18),t._uU(36),t._UZ(37,"br"),t._uU(38),t._UZ(39,"br"),t._uU(40),t._UZ(41,"br"),t._uU(42),t._UZ(43,"br"),t._uU(44),t.qZA()(),t.TgZ(45,"div",19)(46,"h3",16),t._uU(47,"SHIP TO"),t.qZA(),t._UZ(48,"div",17),t.TgZ(49,"p",18),t._uU(50),t._UZ(51,"br"),t._uU(52),t._UZ(53,"br"),t._uU(54),t._UZ(55,"br"),t._uU(56),t.qZA()()(),t.TgZ(57,"div",20)(58,"table",21)(59,"tbody")(60,"tr",22)(61,"th",23),t._uU(62,"#"),t.qZA(),t.TgZ(63,"th",23),t._uU(64,"Description "),t.qZA(),t.TgZ(65,"th",23),t._uU(66,"QTY"),t.qZA(),t.TgZ(67,"th",23),t._uU(68,"UNIT PRICE"),t.qZA(),t.TgZ(69,"th",23),t._uU(70,"TOTAL"),t.qZA()(),t.YNc(71,Z,13,14,"tr",24),t.TgZ(72,"tr",25)(73,"td",26),t._uU(74,"SUBTOTAL"),t.qZA(),t.TgZ(75,"td",27),t._uU(76," 0.00"),t.qZA()(),t.TgZ(77,"tr",25)(78,"td",26),t._uU(79,"DISCOUNT"),t.qZA(),t.TgZ(80,"td",27),t._uU(81," 0.00"),t.qZA()(),t.TgZ(82,"tr",25)(83,"td",26),t._uU(84,"TOTAL TAX"),t.qZA(),t.TgZ(85,"td",27),t._uU(86," 0.00"),t.qZA()(),t.TgZ(87,"tr",25)(88,"td",26),t._uU(89,"SHIPPING/HANDLING"),t.qZA(),t.TgZ(90,"td",27),t._uU(91," 0.00"),t.qZA()(),t.TgZ(92,"tr",28)(93,"th",26),t._uU(94,"TOTAL"),t.qZA(),t.TgZ(95,"th",27),t._uU(96),t.ALo(97,"currency"),t.qZA()()()()(),t.TgZ(98,"div",29)(99,"h5",30),t._uU(100," Terms and Conditions "),t.qZA(),t.TgZ(101,"p"),t._uU(102," Payments is due within 5 Days "),t._UZ(103,"br"),t._uU(104," The Payments can not be reversed once received "),t._UZ(105,"br"),t.qZA()()(),t.TgZ(106,"button",31),t._UZ(107,"i",32),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("id",e.printid),t.xp6(3),t.Q6J("ngIf","INVOICE"===e.tabledata[0].transatype),t.xp6(2),t.Q6J("ngIf","INVOICE"!==e.tabledata[0].transatype),t.xp6(2),t.hij(" ",e.currentUser.fullname," "),t.xp6(2),t.AsE(" ",e.currentUser.companyname," - ",e.currentUser.branchname," "),t.xp6(2),t.hij(" ",e.currentUser.branchaddress," "),t.xp6(2),t.hij(" ",e.currentUser.branchphone," "),t.xp6(2),t.hij(" ",e.currentUser.branchemail," "),t.xp6(4),t.hij(" ",t.lcZ(21,27,e.tabledata[0].paymentdate)," "),t.xp6(3),t.hij(" RECEIPT # ",t.xi3(24,29,e.tabledata[0].id,"3.0-5")," "),t.xp6(3),t.hij(" Mode Of Payment ",t.lcZ(27,32,e.tabledata[0].modeofpay)," "),t.xp6(2),t.Q6J("ngIf",2==e.tabledata[0].modeofpay),t.xp6(1),t.Q6J("ngIf",4==e.tabledata[0].modeofpay),t.xp6(7),t.hij(" ",e.tabledata[0].suppliername," "),t.xp6(2),t.hij(" ",e.tabledata[0].clisuplcompany," "),t.xp6(2),t.hij(" ",e.tabledata[0].cliaddresss," "),t.xp6(2),t.hij(" ",e.tabledata[0].phone," "),t.xp6(2),t.hij(" ",e.tabledata[0].email," "),t.xp6(6),t.hij(" ",e.tabledata[0].suppliername," "),t.xp6(2),t.hij(" ",e.tabledata[0].department," "),t.xp6(2),t.hij(" ",e.tabledata[0].clisuplcompany," "),t.xp6(2),t.hij(" ",e.tabledata[0].cliaddresss," "),t.xp6(15),t.Q6J("ngForOf",e.tabledata),t.xp6(25),t.Oqu(t.xi3(97,34,e.totalAmountSum(e.tabledata),"Ksh. ")),t.xp6(10),t.Q6J("useExistingCss",!0)("printSectionId",e.printid)}}function y(i,p){1&i&&(t.TgZ(0,"div",44),t._uU(1,"No Data"),t.qZA())}let T=(()=>{class i{constructor(){this.today=new Date}ngOnInit(){this.currentUser=JSON.parse(localStorage.getItem("currentuser")),this.status=this.invoiceStatus(this.tabledata,this.tabledata[0].nvclsopaidamount),console.log(this.status)}totalAmountSum(e){let l=0;return e.forEach(_=>{l+=_.totalamount}),l}invoiceStatus(e,l){let _=0;return e.forEach(P=>{_+=P.totalamount}),console.log(_,l),0==l&&0!==_?{value:1,name:"Not Paid"}:0!==l&&_==l?{value:2,name:"Fully paid"}:0!==l&&_<l?{value:3,name:"Overpayment"}:{value:4,name:"Partially Paid"}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-print-receipt-dialog"]],viewQuery:function(e,l){if(1&e&&t.Gf(o,5),2&e){let _;t.iGM(_=t.CRH())&&(l.myDiv=_.first)}},inputs:{tabledata:"tabledata",labeldata:"labeldata",printid:"printid"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["nodata",""],[1,"d-none","d-print-block",3,"id"],["printsection",""],[1,"row","mb-4"],["class","col-12",4,"ngIf"],[1,"col-6"],["class","mat-display-2 text-success fw-light mb-4",4,"ngIf"],[1,"h6","fw-normal"],[1,"col-6","text-end"],["src","../../../../../assets/komptr.png","alt","No Logo Found","width","90px"],[1,"fw-normal","mb-1"],[1,"fw-normal","mt-0"],["class","fw-normal mt-0",4,"ngIf"],[1,"row","py-3"],[1,"col-7"],[1,"mb-1","text-primary","fw-normal"],[1,"border-bottom","mb-2"],[1,"h6","fw-normal","mb-2"],[1,"col-5"],[1,"table-responsive"],[1,"table","table-hover","table-bordered","text-nowrap"],[1,"rounded","printhead"],[1,""],["class","cursor",4,"ngFor","ngForOf"],[1,"borderless-y"],["colspan","4",1,"tpad","text-end","borderless"],[1,"tpad","text-end"],[1,"borderless-top"],[1,"pt-5","mt-3"],[1,"fw-normal"],["ngxPrint","",1,"btn","btn-outline-warning","btn-sm","py-0",3,"useExistingCss","printSectionId"],[1,"fa","fa-print"],[1,"col-12"],[1,"row"],[1,"col-7","py-2"],[1,"mat-display-2","text-success","fw-light","mb-4"],["class","col-5 text-end",4,"ngIf"],[1,"col-5","text-end"],["src","../../../../assets/unpaidone.jpg","alt","","height","80px"],["src","../../../../assets/paid3.jpg","alt","","height","80px"],["src","../../../../assets/partial.png","alt","","height","80px"],[1,"cursor"],[1,"tpad"],[1,"alert","alert-danger","text-danger","my-3"]],template:function(e,l){if(1&e&&(t.YNc(0,U,108,37,"ng-container",0),t.YNc(1,y,2,0,"ng-template",null,1,t.W1O)),2&e){const _=t.MAs(2);t.Q6J("ngIf",l.tabledata&&l.currentUser)("ngIfElse",_)}},directives:[c.O5,c.sg,a.I],pipes:[c.uU,c.JJ,u.p,c.H9],styles:['@import"https://fonts.googleapis.com/css2?family=Roboto&display=swap";.blhead[_ngcontent-%COMP%]{background-color:#1d9aaa!important}#print-section[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.borderless-y[_ngcontent-%COMP%]{border-bottom:none!important;border-top:none!important}.borderless-top[_ngcontent-%COMP%]{border-top:none!important}*[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact!important;color-adjust:exact!important}.printhead[_ngcontent-%COMP%]{background-color:#f3f6f9}.myprint[_ngcontent-%COMP%]{background-image:url(paid3.79ab53fc9afdf953.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}']}),i})()},4905:(g,d,r)=>{function t(){return c=>{var a,u,o,s;const n=null===(u=null===(a=c.parent)||void 0===a?void 0:a.get("password"))||void 0===u?void 0:u.value,m=null===(s=null===(o=c.parent)||void 0===o?void 0:o.get("confirmpass"))||void 0===s?void 0:s.value;return m?m===n?null:{notSame:!0}:null}}r.d(d,{G:()=>t})},5906:(g,d,r)=>{r.d(d,{n:()=>t});class t{isErrorState(a,u){return!!(a&&a.invalid&&(a.dirty||a.touched||u&&u.submitted))}}},6683:(g,d,r)=>{function t(){return c=>{const a=c.value;if(!a)return null;const u=/[A-Z]+/.test(a),o=/[a-z]+/.test(a),s=/[0-9]+/.test(a);return u&&o&&s?null:{passwordStrengthfor:!0}}}r.d(d,{j:()=>t})},3034:(g,d,r)=>{function t(){return c=>{const a=c.value;return a?/^(\d{4}|\+254[ -]?\d{3})[ -]?(\d{3})[ -]?(\d{3})$/gim.test(a)?null:{notPhone:!0}:null}}r.d(d,{t:()=>t})},9550:(g,d,r)=>{r.d(d,{e:()=>c});var t=r(5e3);let c=(()=>{class a{transform(o){var s;return null===(s=[{code:"1",name:"Mombasa",hq:"Mombasa"},{code:"2",name:"Kwale",hq:"Kwale"},{code:"3",name:"Kilifi",hq:"Kilifi"},{code:"4",name:"Tana River",hq:"Hola"},{code:"5",name:"Lamu",hq:"Lamu"},{code:"6",name:"Taita-Taveta",hq:"Mwatate"},{code:"7",name:"Garissa",hq:"Garissa"},{code:"8",name:"Wajir",hq:"Wajir"},{code:"9",name:"Mandera",hq:"Mandera"},{code:"10",name:"Marsabit",hq:"Marsabit"},{code:"11",name:"Isiolo",hq:"Isiolo"},{code:"12",name:"Meru",hq:"Meru"},{code:"13",name:"Tharaka-Nithi",hq:"Kathwana"},{code:"14",name:"Embu",hq:"Embu"},{code:"15",name:"Kitui",hq:"Kitui"},{code:"16",name:"Machakos",hq:"Machakos"},{code:"17",name:"Makueni",hq:"Wote"},{code:"18",name:"Nyandarua",hq:"Ol Kalou"},{code:"19",name:"Nyeri",hq:"Nyeri"},{code:"20",name:"Kirinyaga",hq:"Kerugoya / Kutus"},{code:"21",name:"Murang'a",hq:"Murang'a"},{code:"22",name:"Kiambu",hq:"Kiambu"},{code:"23",name:"Turkana",hq:"Lodwar"},{code:"24",name:"West Pokot",hq:"Kapenguria"},{code:"25",name:"Samburu",hq:"Maralal"},{code:"26",name:"Trans-Nzoia",hq:"Kitale"},{code:"27",name:"Uasin Gishu",hq:"Eldoret"},{code:"28",name:"Elgeyo-Marakwet",hq:"Iten"},{code:"29",name:"Nandi",hq:"Kapsabet"},{code:"30",name:"Baringo",hq:"Kabarnet"},{code:"31",name:"Laikipia",hq:"Rumuruti"},{code:"32",name:"Nakuru",hq:"Nakuru"},{code:"33",name:"Narok",hq:"Narok"},{code:"34",name:"Kajiado",hq:"Kajiado"},{code:"35",name:"Kericho",hq:"Kericho"},{code:"36",name:"Bomet",hq:"Bomet"},{code:"37",name:"Kakamega",hq:"Kakamega"},{code:"38",name:"Vihiga",hq:"Vihiga"},{code:"39",name:"Bungoma",hq:"Bungoma"},{code:"40",name:"Busia",hq:"Busia"},{code:"41",name:"Siaya",hq:"Siaya"},{code:"42",name:"Kisumu",hq:"Kisumu"},{code:"43",name:"Homa Bay",hq:"Homa Bay"},{code:"44",name:"Migori",hq:"Migori"},{code:"45",name:"Kisii",hq:"Kisii"},{code:"46",name:"Nyamira",hq:"Nyamira"},{code:"47",name:"Nairobi",hq:"Nairobi"}].find(m=>parseInt(m.code)==o))||void 0===s?void 0:s.name}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275pipe=t.Yjl({name:"county",type:a,pure:!0}),a})()},2818:(g,d,r)=>{r.d(d,{p:()=>c});var t=r(5e3);let c=(()=>{class a{transform(o){var s;return null===(s=[{name:"CASH",value:1},{name:"MPESA",value:2},{name:"PAYPAL",value:3},{name:"CHEQUE",value:4}].find(m=>m.value==o))||void 0===s?void 0:s.name}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275pipe=t.Yjl({name:"modeofpay",type:a,pure:!0}),a})()}}]);