"use strict";(self.webpackChunkbiz_ke_frontend=self.webpackChunkbiz_ke_frontend||[]).push([[436],{7436:(x,f,t)=>{t.r(f),t.d(f,{ProfileModule:()=>J});var d=t(9808),s=t(1083),n=t(3075),u=t(5906),g=t(3034),e=t(5e3),p=t(7261),v=t(4969),m=t(7322),c=t(7531),h=t(7423);function Z(r,l){if(1&r&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessage," ")}}function U(r,l){1&r&&(e.ynx(0),e._UZ(1,"i",17),e.TgZ(2,"span",18),e._uU(3,"Loading..."),e.qZA(),e.BQk())}function I(r,l){1&r&&e._uU(0," Update Profile ")}let P=(()=>{class r{constructor(o,a,i,T){this.passFb=o,this.router=a,this.snakBar=i,this.pflServ=T,this.matcher=new u.n,this.loading=!1,this.profileForm=this.passFb.group({nameone:["",[n.kI.required,n.kI.minLength(2)]],nametwo:["",[n.kI.required,n.kI.minLength(2)]],phone:["",[n.kI.required,n.kI.minLength(8),(0,g.t)()]],email:["",[n.kI.required,n.kI.email]]})}ngOnInit(){this.currentUser=JSON.parse(localStorage.getItem("currentuser")),this.currentUser&&this.profileForm.patchValue({nameone:this.currentUser.firstname,nametwo:this.currentUser.secondname,phone:this.currentUser.phone,email:this.currentUser.email}),this.profileForm.valueChanges.subscribe(()=>{this.errorMessage=!1})}changePassword(){this.loading=!0,this.pflServ.updateProfile(this.profileForm.value).subscribe({next:o=>this.handleResp(o),error:o=>this.errorHandle(o)})}openSnakBar(o,a){this.snakBar.open(o,a,{duration:2500})}handleResp(o){this.router.navigate(["./login"]).then(()=>{localStorage.clear()})}errorHandle(o){this.loading=!1,this.errorMessage=o}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(n.qu),e.Y36(s.F0),e.Y36(p.ux),e.Y36(v.g))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-profile"]],decls:32,vars:9,consts:[[1,"d-lg-flex","text-secondary","py-2"],[1,"flex-grow-1"],["type","button","routerLink","/dashboard",1,"btn","btn-outline-success","btn-sm"],["aria-hidden","true",1,"fa","fa-chevron-left"],[3,"formGroup"],["class","alert alert-danger my-3",4,"ngIf"],[1,"row","pt-3"],[1,"col-lg-6"],["appearance","outline",1,"w-100"],["matInput","","placeholder","First Name","formControlName","nameone",3,"errorStateMatcher"],["matInput","","placeholder","Second Name","formControlName","nametwo",3,"errorStateMatcher"],["matInput","","placeholder","Phone Number","formControlName","phone",3,"errorStateMatcher"],["matInput","","placeholder","Enter Email","formControlName","email",3,"errorStateMatcher"],["mat-flat-button","","color","primary","type","button",1,"me-3",3,"disabled","click"],[4,"ngIf","ngIfElse"],["notload",""],[1,"alert","alert-danger","my-3"],[1,"fa","fa-spinner","fa-spin","fa-1x","me-2"],[1,""]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e._UZ(3,"i",3),e._uU(4," Back "),e.qZA()()(),e.TgZ(5,"form",4),e.YNc(6,Z,2,1,"div",5),e.TgZ(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),e._uU(11,"First Name "),e.qZA(),e._UZ(12,"input",9),e.qZA()(),e.TgZ(13,"div",7)(14,"mat-form-field",8)(15,"mat-label"),e._uU(16,"Second Name "),e.qZA(),e._UZ(17,"input",10),e.qZA()(),e.TgZ(18,"div",7)(19,"mat-form-field",8)(20,"mat-label"),e._uU(21,"Phone Number "),e.qZA(),e._UZ(22,"input",11),e.qZA()(),e.TgZ(23,"div",7)(24,"mat-form-field",8)(25,"mat-label"),e._uU(26,"Email "),e.qZA(),e._UZ(27,"input",12),e.qZA()()(),e.TgZ(28,"button",13),e.NdJ("click",function(){return a.changePassword()}),e.YNc(29,U,4,0,"ng-container",14),e.YNc(30,I,1,0,"ng-template",null,15,e.W1O),e.qZA()()),2&o){const i=e.MAs(31);e.xp6(5),e.Q6J("formGroup",a.profileForm),e.xp6(1),e.Q6J("ngIf",a.errorMessage),e.xp6(6),e.Q6J("errorStateMatcher",a.matcher),e.xp6(5),e.Q6J("errorStateMatcher",a.matcher),e.xp6(5),e.Q6J("errorStateMatcher",a.matcher),e.xp6(5),e.Q6J("errorStateMatcher",a.matcher),e.xp6(1),e.Q6J("disabled",a.profileForm.invalid||a.errorMessage||a.loading),e.xp6(1),e.Q6J("ngIf",a.loading)("ngIfElse",i)}},directives:[s.rH,n._Y,n.JL,n.sg,d.O5,m.KE,m.hX,c.Nt,n.Fj,n.JJ,n.u,h.lW],styles:[".mat-form-field-flex>.mat-form-field-infix{padding:.5em 0!important}  .mat-form-field-label-wrapper{top:-1.4em}  .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{transform:translateY(-1.1em) scale(.75);width:133.33333%}"]}),r})();var M=t(508),C=t(6856),N=t(5245),S=t(4107),A=t(4376),F=t(6186);const b=[{path:"",component:P}];let J=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[d.ez,F.K,n.UX,A.A0,n.u5,p.ZX,m.lN,S.LD,c.c,N.Ps,h.ot,M.XK,C.FA,s.Bz.forChild(b)]]}),r})()}}]);