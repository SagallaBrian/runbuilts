"use strict";(self.webpackChunkbiz_ke_frontend=self.webpackChunkbiz_ke_frontend||[]).push([[721],{1721:(I,l,a)=>{a.r(l),a.d(l,{StocksModule:()=>y});var i=a(9808),p=a(1083),t=a(5e3),c=a(2340),d=a(520);let m=(()=>{class n{constructor(e){this._http=e}getStock(e){return this._http.get(c.N.apiUrl+"stock/"+e)}getStocks(e){return this._http.get(c.N.apiUrl+"stock/",{params:e})}delstock(e){return this._http.delete(c.N.apiUrl+"stock/"+e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(d.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=a(1990),h=a(4701);function f(n,o){if(1&n&&(t.TgZ(0,"div",6),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorMessage," ")}}function _(n,o){if(1&n&&(t.TgZ(0,"tr",13)(1,"td",14),t._uU(2),t.qZA(),t.TgZ(3,"td",14),t._uU(4),t.qZA(),t.TgZ(5,"td",14),t._uU(6),t.qZA()()),2&n){const e=o.$implicit,s=o.index;t.xp6(2),t.Oqu(s+1),t.xp6(2),t.lnq(" ",e.categoryname," - ",e.brand," - ",e.productype," "),t.xp6(2),t.Oqu(e.noitems)}}function S(n,o){if(1&n&&(t.ynx(0),t.YNc(1,_,7,5,"tr",12),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.stocks)}}function k(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"table",7)(2,"tbody")(3,"tr",8)(4,"th",9),t._uU(5,"#"),t.qZA(),t.TgZ(6,"th",9),t._uU(7,"Product "),t.qZA(),t.TgZ(8,"th",9),t._uU(9,"No Of Items"),t.qZA()(),t.YNc(10,S,2,1,"ng-container",10),t.qZA()(),t.TgZ(11,"app-paginator",11),t.NdJ("newItemEvent",function(r){return t.CHM(e),t.oxw().paginatedCall(r)}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",e.stocks),t.xp6(1),t.Q6J("datafromdb",e.paginator)}}function v(n,o){1&n&&(t.TgZ(0,"div",16),t._uU(1," loading ... "),t.qZA())}function x(n,o){if(1&n&&t.YNc(0,v,2,0,"div",15),2&n){const e=t.oxw();t.Q6J("ngIf",e.loading)}}let Z=(()=>{class n{constructor(e,s){this.stkServ=e,this.router=s,this.loading=!0,this.paginator={page:1,pageSize:10},this.searchParams={listname:"Stocks List",searchPlaceholder:"Search Stocks",options:[{name:"Product Name",value:"name"},{name:"Product Brand",value:"brand"}]}}ngOnInit(){this.loadStocks()}loadStocks(){this.stkServ.getStocks(this.paginator).subscribe({next:e=>this.handleResp(e),error:e=>this.errorHandle(e)})}handleResp(e){this.loading=!1,this.stocks=e.results,this.paginator.page=e.currentPage,this.paginator.totalItems=e.totalItems,this.paginator.pageSize=e.pageSize}errorHandle(e){this.loading=!1,this.errorMessage=e}paginatedCall(e){this.paginator.page=e.page,this.loadStocks()}searchFunction(e){"name"==e.seltype?(this.paginator.name=e.uservalue,this.loadStocks()):(this.loadStocks(),this.paginator={page:1,pageSize:10})}closeSearchFunction(){this.paginator={page:1,pageSize:10},this.loadStocks()}navigateAdd(){this.router.navigate(["/products/stocks/add"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-stocks"]],decls:7,vars:4,consts:[[1,"container-fluid","py-3"],[3,"labels","searchEmit","closeEmit","navigateEmit"],["class","alert alert-danger my-3",4,"ngIf"],[1,"table-responsive"],[4,"ngIf","ngIfElse"],["nodata",""],[1,"alert","alert-danger","my-3"],[1,"table","table-striped","table-hover","table-bordered","text-nowrap"],[1,"blhead","rounded"],[1,"text-light"],[4,"ngIf"],[3,"datafromdb","newItemEvent"],["class","cursor",4,"ngFor","ngForOf"],[1,"cursor"],[1,"tpad"],["class","alert alert-warning text-danger my-3",4,"ngIf"],[1,"alert","alert-warning","text-danger","my-3"]],template:function(e,s){if(1&e&&(t.TgZ(0,"div",0)(1,"app-search-tab",1),t.NdJ("searchEmit",function(g){return s.searchFunction(g)})("closeEmit",function(){return s.closeSearchFunction()})("navigateEmit",function(){return s.navigateAdd()}),t.qZA(),t.YNc(2,f,2,1,"div",2),t.TgZ(3,"div",3),t.YNc(4,k,12,2,"ng-container",4),t.YNc(5,x,1,1,"ng-template",null,5,t.W1O),t.qZA()()),2&e){const r=t.MAs(6);t.xp6(1),t.Q6J("labels",s.searchParams),t.xp6(1),t.Q6J("ngIf",s.errorMessage),t.xp6(2),t.Q6J("ngIf",s.stocks)("ngIfElse",r)}},directives:[u.O,i.O5,i.sg,h.J],styles:[""]}),n})();var T=a(9744),C=a(7423);const b=[{path:"",component:Z}];let y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.ez,C.ot,T.F,p.Bz.forChild(b)]]}),n})()}}]);